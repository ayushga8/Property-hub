<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PropertyHub India - Find Your Dream Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
      :root {
        --primary-color: #6366f1;
        --secondary-color: #8b5cf6;
        --accent-color: #ec4899;
        --dark-bg: #111827;
        --dark-card: #1f2937;
        --dark-text: #f9fafb;
        --dark-text-secondary: #d1d5db;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        transition: background-color 0.3s ease, color 0.3s ease;
        font-family: "Inter", system-ui, -apple-system, sans-serif;
      }

      body.dark {
        background-color: var(--dark-bg);
        color: var(--dark-text);
      }

      body.dark .bg-white {
        background-color: var(--dark-card) !important;
      }

      body.dark .text-gray-900 {
        color: var(--dark-text) !important;
      }

      body.dark .text-gray-800 {
        color: var(--dark-text) !important;
      }

      body.dark .text-gray-700 {
        color: var(--dark-text-secondary) !important;
      }

      body.dark .text-gray-600 {
        color: #9ca3af !important;
      }

      body.dark .text-gray-500 {
        color: #6b7280 !important;
      }

      body.dark .border-gray-300 {
        border-color: #4b5563 !important;
      }

      body.dark .border-gray-200 {
        border-color: #374151 !important;
      }

      body.dark .bg-gray-50 {
        background-color: var(--dark-card) !important;
      }

      body.dark .bg-gray-100 {
        background-color: #374151 !important;
      }

      body.dark .bg-gray-200 {
        background-color: #4b5563 !important;
      }

      body.dark .shadow-md {
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3) !important;
      }

      body.dark .shadow-lg {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3) !important;
      }

      body.dark .hover\:bg-gray-50:hover {
        background-color: #374151 !important;
      }

      body.dark .hover\:bg-gray-100:hover {
        background-color: #4b5563 !important;
      }

      body.dark .bg-gradient-to-r {
        opacity: 0.9;
      }

      body.dark .text-blue-100 {
        color: #bfdbfe !important;
      }

      body.dark .text-indigo-100 {
        color: #c7d2fe !important;
      }

      body.dark .text-green-100 {
        color: #bbf7d0 !important;
      }

      body.dark .text-purple-100 {
        color: #e9d5ff !important;
      }

      body.dark .text-orange-100 {
        color: #fed7aa !important;
      }

      body.dark .text-pink-100 {
        color: #fbcfe8 !important;
      }

      body.dark .text-gray-400 {
        color: #9ca3af !important;
      }

      body.dark .text-gray-300 {
        color: #d1d5db !important;
      }

      body.dark .border-gray-800 {
        border-color: #374151 !important;
      }

      body.dark .bg-gray-900 {
        background-color: #111827 !important;
      }

      .property-card {
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        transform-style: preserve-3d;
        perspective: 1000px;
      }

      .property-card:hover {
        transform: translateY(-8px) rotateX(2deg);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      }

      .property-card:hover .property-image {
        transform: scale(1.05);
      }

      .property-image {
        transition: transform 0.5s ease;
        overflow: hidden;
      }

      .filter-checkbox:checked + label {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color)
        );
        color: white;
        transform: scale(1.05);
      }

      .price-slider {
        -webkit-appearance: none;
        appearance: none;
        background: transparent;
        cursor: pointer;
      }

      .price-slider::-webkit-slider-track {
        background: linear-gradient(
          90deg,
          var(--primary-color),
          var(--secondary-color)
        );
        height: 8px;
        border-radius: 4px;
      }

      .price-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        background: white;
        height: 24px;
        width: 24px;
        border-radius: 50%;
        border: 3px solid var(--primary-color);
        box-shadow: 0 2px 10px rgba(99, 102, 241, 0.5);
        transition: all 0.3s ease;
      }

      .price-slider::-webkit-slider-thumb:hover {
        transform: scale(1.2);
        box-shadow: 0 4px 20px rgba(99, 102, 241, 0.7);
      }

      .skeleton {
        background: linear-gradient(
          90deg,
          #f3f4f6 25%,
          #e5e7eb 50%,
          #f3f4f6 75%
        );
        background-size: 200% 100%;
        animation: loading 1.5s infinite;
      }

      @keyframes loading {
        0% {
          background-position: 200% 0;
        }
        100% {
          background-position: -200% 0;
        }
      }

      .fade-in {
        animation: fadeIn 0.6s ease-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .modal-backdrop {
        backdrop-filter: blur(8px);
        background: rgba(0, 0, 0, 0.5);
      }

      .badge-new {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.8;
          transform: scale(1.05);
        }
      }

      .theme-toggle {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 50;
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color)
        );
        color: white;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
        transition: all 0.3s ease;
      }

      .theme-toggle:hover {
        transform: scale(1.1) rotate(180deg);
        box-shadow: 0 6px 30px rgba(99, 102, 241, 0.6);
      }

      .filter-toggle {
        background: white;
        color: var(--primary-color);
        padding: 12px 20px;
        border-radius: 30px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        margin-bottom: 20px;
      }

      body.dark .filter-toggle {
        background: var(--dark-card);
        color: var(--dark-text);
      }

      .filter-toggle:hover {
        transform: translateX(-5px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
      }

      .filter-sidebar {
        position: fixed;
        top: 0;
        right: -320px;
        width: 320px;
        height: 100vh;
        background: white;
        box-shadow: -4px 0 20px rgba(0, 0, 0, 0.1);
        transition: right 0.3s ease;
        z-index: 45;
        overflow-y: auto;
      }

      body.dark .filter-sidebar {
        background: var(--dark-card);
      }

      .filter-sidebar.active {
        right: 0;
      }

      .filter-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 44;
        display: none;
      }

      .filter-overlay.active {
        display: block;
      }

      .hero-gradient {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        position: relative;
        overflow: hidden;
      }

      .hero-gradient::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.1) 1px,
          transparent 1px
        );
        background-size: 20px 20px;
        animation: moveGrid 20s linear infinite;
      }

      @keyframes moveGrid {
        0% {
          transform: translate(0, 0);
        }
        100% {
          transform: translate(20px, 20px);
        }
      }

      .floating {
        animation: floating 3s ease-in-out infinite;
      }

      @keyframes floating {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .shimmer {
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        background-size: 200% 100%;
        animation: shimmer 2s infinite;
      }

      @keyframes shimmer {
        0% {
          background-position: -200% 0;
        }
        100% {
          background-position: 200% 0;
        }
      }

      .price-tag {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        font-weight: bold;
        display: inline-block;
        position: relative;
        overflow: hidden;
      }

      .price-tag::after {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        transform: rotate(45deg);
        animation: shine 3s infinite;
      }

      @keyframes shine {
        0% {
          transform: translateX(-100%) translateY(-100%) rotate(45deg);
        }
        100% {
          transform: translateX(100%) translateY(100%) rotate(45deg);
        }
      }

      .location-badge {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        padding: 6px 12px;
        border-radius: 15px;
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .heart-animation {
        animation: heartBeat 1.5s ease-in-out infinite;
      }

      @keyframes heartBeat {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
      }

      .page {
        display: none;
        min-height: 100vh;
      }

      .page.active {
        display: block;
      }

      .notification {
        position: fixed;
        top: 80px;
        right: 20px;
        z-index: 60;
        background: white;
        padding: 16px 24px;
        border-radius: 8px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        transform: translateX(400px);
        transition: transform 0.3s ease;
        max-width: 300px;
        word-wrap: break-word;
      }

      body.dark .notification {
        background: var(--dark-card);
        color: var(--dark-text);
      }

      .notification.show {
        transform: translateX(0);
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      @media (max-width: 768px) {
        .filter-sidebar {
          width: 100%;
          right: -100%;
        }

        .property-grid {
          grid-template-columns: 1fr !important;
        }

        .filter-toggle {
          padding: 10px 15px;
        }

        .theme-toggle {
          width: 50px;
          height: 50px;
          bottom: 15px;
          right: 15px;
        }

        .notification {
          max-width: 250px;
          right: 10px;
          top: 70px;
        }
      }

      .loading-spinner {
        border: 3px solid rgba(99, 102, 241, 0.2);
        border-top: 3px solid var(--primary-color);
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .comparison-item {
        transition: all 0.3s ease;
      }

      .comparison-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      }

      .map-container {
        height: 400px;
        width: 100%;
        border-radius: 8px;
        overflow: hidden;
      }

      .calculator-input {
        transition: all 0.3s ease;
      }

      .calculator-input:focus {
        transform: scale(1.02);
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
      }

      .search-suggestion {
        transition: all 0.2s ease;
      }

      .search-suggestion:hover {
        background-color: #f3f4f6;
        padding-left: 12px;
      }

      body.dark .search-suggestion:hover {
        background-color: #374151;
      }

      .property-type-pill {
        transition: all 0.3s ease;
      }

      .property-type-pill:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .saved-search {
        transition: all 0.3s ease;
      }

      .saved-search:hover {
        transform: translateX(5px);
      }

      .property-detail-tab {
        transition: all 0.3s ease;
      }

      .property-detail-tab.active {
        border-bottom: 3px solid var(--primary-color);
      }

      .property-detail-tab:hover {
        background-color: rgba(99, 102, 241, 0.05);
      }

      .agent-card {
        transition: all 0.3s ease;
      }

      .agent-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
      }

      .testimonial-card {
        transition: all 0.3s ease;
      }

      .testimonial-card:hover {
        transform: scale(1.05);
      }

      .stats-card {
        transition: all 0.3s ease;
      }

      .stats-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      }

      .blog-card {
        transition: all 0.3s ease;
      }

      .blog-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
      }

      .blog-card:hover img {
        transform: scale(1.1);
      }

      .blog-image {
        overflow: hidden;
      }

      .blog-image img {
        transition: transform 0.5s ease;
      }

      .mobile-menu {
        transform: translateX(-100%);
        transition: transform 0.3s ease;
      }

      .mobile-menu.active {
        transform: translateX(0);
      }

      .mobile-menu-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 39;
      }

      .mobile-menu-overlay.active {
        display: block;
      }

      @media (max-width: 767px) {
        .mobile-menu-toggle {
          display: flex !important;
        }
      }

      .back-button {
        position: absolute;
        top: 20px;
        left: 20px;
        z-index: 10;
        background: rgba(255, 255, 255, 0.9);
        color: var(--primary-color);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .back-button:hover {
        transform: scale(1.1);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }

      body.dark .back-button {
        background: rgba(31, 41, 55, 0.9);
        color: var(--dark-text);
      }

      .auth-form {
        max-width: 400px;
        margin: 0 auto;
      }

      .auth-input {
        width: 100%;
        padding: 12px 16px;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        font-size: 16px;
        transition: all 0.3s ease;
      }

      .auth-input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
      }

      body.dark .auth-input {
        background-color: #374151;
        border-color: #4b5563;
        color: var(--dark-text);
      }

      .auth-button {
        width: 100%;
        padding: 12px 16px;
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color)
        );
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .auth-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(99, 102, 241, 0.3);
      }

      .auth-button:disabled {
        opacity: 0.7;
        cursor: not-allowed;
        transform: none;
      }

      .auth-link {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .auth-link:hover {
        text-decoration: underline;
      }

      .auth-divider {
        display: flex;
        align-items: center;
        margin: 20px 0;
      }

      .auth-divider::before,
      .auth-divider::after {
        content: "";
        flex: 1;
        height: 1px;
        background-color: #e5e7eb;
      }

      body.dark .auth-divider::before,
      body.dark .auth-divider::after {
        background-color: #4b5563;
      }

      .auth-divider span {
        padding: 0 10px;
        color: #6b7280;
      }

      .social-auth-button {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        width: 100%;
        padding: 10px;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        background-color: white;
        color: #374151;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      body.dark .social-auth-button {
        background-color: #374151;
        border-color: #4b5563;
        color: var(--dark-text);
      }

      .social-auth-button:hover {
        background-color: #f9fafb;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      body.dark .social-auth-button:hover {
        background-color: #4b5563;
      }

      .error-message {
        color: #ef4444;
        font-size: 14px;
        margin-top: 5px;
      }

      .success-message {
        color: #10b981;
        font-size: 14px;
        margin-top: 5px;
      }

      .compact-header {
        height: 60px !important;
      }

      .compact-header .h-16 {
        height: 3.5rem !important;
      }

      .compact-header .text-xl {
        font-size: 1.2rem !important;
      }

      .compact-header .text-2xl {
        font-size: 1.5rem !important;
      }

      .compact-header .text-4xl {
        font-size: 2rem !important;
      }

      .compact-header .py-16 {
        padding-top: 2rem !important;
        padding-bottom: 2rem !important;
      }

      .load-more-container {
        display: flex;
        justify-content: center;
        margin-top: 2rem;
      }

      .skeleton-card {
        background: linear-gradient(
          90deg,
          #f3f4f6 25%,
          #e5e7eb 50%,
          #f3f4f6 75%
        );
        background-size: 200% 100%;
        animation: loading 1.5s infinite;
        border-radius: 0.75rem;
        height: 400px;
      }

      .property-loading {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 2rem;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header
      id="mainHeader"
      class="bg-white shadow-lg sticky top-0 z-30 transition-all duration-300"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <div class="flex items-center">
            <i class="fas fa-home text-indigo-600 text-2xl mr-3 floating"></i>
            <h1 class="text-xl font-bold text-gray-900">PropertyHub India</h1>
          </div>
          <nav class="hidden md:flex space-x-8">
            <a
              href="#"
              onclick="showPage('home')"
              class="nav-link text-gray-700 hover:text-indigo-600 transition transform hover:scale-105"
              >Home</a
            >
            <a
              href="#"
              onclick="showPage('buy')"
              class="nav-link text-gray-700 hover:text-indigo-600 transition transform hover:scale-105"
              >Buy</a
            >
            <a
              href="#"
              onclick="showPage('rent')"
              class="nav-link text-gray-700 hover:text-indigo-600 transition transform hover:scale-105"
              >Rent</a
            >
            <a
              href="#"
              onclick="showPage('sell')"
              class="nav-link text-gray-700 hover:text-indigo-600 transition transform hover:scale-105"
              >Sell</a
            >
            <a
              href="#"
              onclick="showPage('agents')"
              class="nav-link text-gray-700 hover:text-indigo-600 transition transform hover:scale-105"
              >Agents</a
            >
            <a
              href="#"
              onclick="showPage('blog')"
              class="nav-link text-gray-700 hover:text-indigo-600 transition transform hover:scale-105"
              >Blog</a
            >
          </nav>
          <div class="flex items-center space-x-4">
            <button
              onclick="showPage('profile')"
              class="relative p-2 text-gray-600 hover:text-indigo-600 transition transform hover:scale-110"
            >
              <i class="fas fa-user text-xl"></i>
            </button>
            <button
              onclick="showPage('wishlist')"
              class="relative p-2 text-gray-600 hover:text-indigo-600 transition transform hover:scale-110"
            >
              <i class="fas fa-heart text-xl"></i>
              <span
                id="favCount"
                class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"
                >0</span
              >
            </button>
            <button
              onclick="showPage('login')"
              id="authBtn"
              class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-4 py-2 rounded-lg hover:shadow-lg transition transform hover:scale-105"
            >
              <i class="fas fa-sign-in-alt mr-2"></i>Sign In
            </button>
            <button
              onclick="toggleMobileMenu()"
              class="mobile-menu-toggle hidden md:hidden p-2 text-gray-600"
            >
              <i class="fas fa-bars text-xl"></i>
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Mobile Menu -->
    <div
      class="mobile-menu-overlay"
      id="mobileMenuOverlay"
      onclick="toggleMobileMenu()"
    ></div>
    <div
      class="mobile-menu fixed top-0 left-0 w-64 h-full bg-white shadow-xl z-40 p-6"
      id="mobileMenu"
    >
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-xl font-bold text-gray-900">Menu</h2>
        <button
          onclick="toggleMobileMenu()"
          class="text-gray-500 hover:text-gray-700"
        >
          <i class="fas fa-times text-xl"></i>
        </button>
      </div>
      <nav class="space-y-4">
        <a
          href="#"
          onclick="showPage('home'); toggleMobileMenu();"
          class="block text-gray-700 hover:text-indigo-600 transition"
          >Home</a
        >
        <a
          href="#"
          onclick="showPage('buy'); toggleMobileMenu();"
          class="block text-gray-700 hover:text-indigo-600 transition"
          >Buy</a
        >
        <a
          href="#"
          onclick="showPage('rent'); toggleMobileMenu();"
          class="block text-gray-700 hover:text-indigo-600 transition"
          >Rent</a
        >
        <a
          href="#"
          onclick="showPage('sell'); toggleMobileMenu();"
          class="block text-gray-700 hover:text-indigo-600 transition"
          >Sell</a
        >
        <a
          href="#"
          onclick="showPage('agents'); toggleMobileMenu();"
          class="block text-gray-700 hover:text-indigo-600 transition"
          >Agents</a
        >
        <a
          href="#"
          onclick="showPage('blog'); toggleMobileMenu();"
          class="block text-gray-700 hover:text-indigo-600 transition"
          >Blog</a
        >
        <a
          href="#"
          onclick="showPage('profile'); toggleMobileMenu();"
          class="block text-gray-700 hover:text-indigo-600 transition"
          >Profile</a
        >
        <a
          href="#"
          onclick="showPage('wishlist'); toggleMobileMenu();"
          class="block text-gray-700 hover:text-indigo-600 transition"
          >Wishlist</a
        >
      </nav>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
      <div class="flex items-start">
        <i class="fas fa-check-circle text-green-500 text-xl mr-3 mt-0.5"></i>
        <div>
          <span id="notificationText">Action completed successfully!</span>
        </div>
      </div>
    </div>

    <!-- Home Page -->
    <div id="home" class="page active">
      <!-- Hero Search Section -->
      <section class="hero-gradient text-white py-16 relative">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
          <h2 class="text-4xl font-bold mb-4 text-center">
            Find Your Perfect Home in India
          </h2>
          <p class="text-indigo-100 mb-8 text-center">
            Search from thousands of properties across major cities
          </p>

          <div class="bg-white rounded-xl shadow-2xl p-2 max-w-3xl mx-auto">
            <div class="flex flex-col md:flex-row gap-2">
              <div class="flex-1 relative">
                <i
                  class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"
                ></i>
                <input
                  type="text"
                  id="searchInput"
                  placeholder="Search by city, locality, or property name..."
                  class="w-full pl-12 pr-4 py-4 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  onkeyup="handleSearchInput(event)"
                />
                <div
                  id="searchSuggestions"
                  class="absolute top-full left-0 right-0 bg-white rounded-lg shadow-lg mt-1 hidden z-20"
                >
                  <!-- Search suggestions will be populated here -->
                </div>
              </div>
              <button
                onclick="performSearch()"
                class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-4 rounded-lg hover:shadow-xl transition transform hover:scale-105 font-semibold shimmer"
              >
                <i class="fas fa-search mr-2"></i>Search Properties
              </button>
            </div>
          </div>

          <!-- Property Type Pills -->
          <div class="flex flex-wrap justify-center gap-4 mt-8">
            <button
              onclick="filterByType('Apartment')"
              class="property-type-pill bg-white bg-opacity-20 backdrop-blur-md text-white px-6 py-3 rounded-full hover:bg-opacity-30 transition"
            >
              <i class="fas fa-building mr-2"></i>Apartments
            </button>
            <button
              onclick="filterByType('House')"
              class="property-type-pill bg-white bg-opacity-20 backdrop-blur-md text-white px-6 py-3 rounded-full hover:bg-opacity-30 transition"
            >
              <i class="fas fa-home mr-2"></i>Houses
            </button>
            <button
              onclick="filterByType('Villa')"
              class="property-type-pill bg-white bg-opacity-20 backdrop-blur-md text-white px-6 py-3 rounded-full hover:bg-opacity-30 transition"
            >
              <i class="fas fa-city mr-2"></i>Villas
            </button>
            <button
              onclick="filterByType('Penthouse')"
              class="property-type-pill bg-white bg-opacity-20 backdrop-blur-md text-white px-6 py-3 rounded-full hover:bg-opacity-30 transition"
            >
              <i class="fas fa-crown mr-2"></i>Penthouses
            </button>
          </div>
        </div>
      </section>

      <!-- Main Content -->
      <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Filter Toggle Button -->
        <div class="filter-toggle" onclick="toggleFilterSidebar()">
          <i class="fas fa-filter"></i>
          <span>Filters</span>
        </div>

        <!-- Results Header -->
        <div class="bg-white rounded-lg shadow-md p-4 mb-6">
          <div
            class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"
          >
            <div>
              <h3 class="text-lg font-semibold text-gray-900">
                <span id="resultCount">10</span> Properties Found
              </h3>
              <p class="text-sm text-gray-600">across India</p>
            </div>
            <div class="flex gap-2">
              <div class="flex border border-gray-300 rounded-lg">
                <button
                  onclick="setViewMode('grid')"
                  id="gridViewBtn"
                  class="px-3 py-2 bg-indigo-600 text-white rounded-l-lg"
                >
                  <i class="fas fa-th"></i>
                </button>
                <button
                  onclick="setViewMode('list')"
                  id="listViewBtn"
                  class="px-3 py-2 bg-white text-gray-600 hover:bg-gray-50 rounded-r-lg"
                >
                  <i class="fas fa-list"></i>
                </button>
              </div>
              <select
                id="sortSelect"
                onchange="sortProperties()"
                class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
              >
                <option value="featured">Featured</option>
                <option value="price-low">Price: Low to High</option>
                <option value="price-high">Price: High to Low</option>
                <option value="newest">Newest First</option>
                <option value="bedrooms">Most Bedrooms</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Property Grid -->
        <div
          id="propertyGrid"
          class="property-grid grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"
        >
          <!-- Properties will be dynamically loaded here -->
        </div>

        <!-- Loading indicator -->
        <div id="propertyLoading" class="property-loading hidden">
          <div class="loading-spinner"></div>
        </div>

        <!-- Load More Button -->
        <div id="loadMoreContainer" class="load-more-container">
          <button
            onclick="loadMoreProperties()"
            class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-3 rounded-lg hover:shadow-xl transition transform hover:scale-105 font-semibold"
          >
            <i class="fas fa-plus-circle mr-2"></i>Load More Properties
          </button>
        </div>
      </main>

      <!-- Testimonials Section -->
      <section class="py-12 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 class="text-3xl font-bold text-center mb-8 text-gray-900">
            What Our Customers Say
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="testimonial-card bg-white rounded-lg shadow-md p-6">
              <div class="flex items-center mb-4">
                <img
                  src="https://picsum.photos/seed/user1/50/50"
                  alt="User"
                  class="w-12 h-12 rounded-full mr-4"
                />
                <div>
                  <h4 class="font-semibold">Rahul Sharma</h4>
                  <div class="text-yellow-500">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                  </div>
                </div>
              </div>
              <p class="text-gray-600">
                "PropertyHub helped me find my dream home in just 2 weeks. The
                agents were professional and knowledgeable."
              </p>
            </div>
            <div class="testimonial-card bg-white rounded-lg shadow-md p-6">
              <div class="flex items-center mb-4">
                <img
                  src="https://picsum.photos/seed/user2/50/50"
                  alt="User"
                  class="w-12 h-12 rounded-full mr-4"
                />
                <div>
                  <h4 class="font-semibold">Priya Nair</h4>
                  <div class="text-yellow-500">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                  </div>
                </div>
              </div>
              <p class="text-gray-600">
                "The website is easy to use and has a great selection of
                properties. I found the perfect apartment for my family."
              </p>
            </div>
            <div class="testimonial-card bg-white rounded-lg shadow-md p-6">
              <div class="flex items-center mb-4">
                <img
                  src="https://picsum.photos/seed/user3/50/50"
                  alt="User"
                  class="w-12 h-12 rounded-full mr-4"
                />
                <div>
                  <h4 class="font-semibold">Amit Patel</h4>
                  <div class="text-yellow-500">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half-alt"></i>
                  </div>
                </div>
              </div>
              <p class="text-gray-600">
                "Great experience from start to finish. The team was responsive
                and helped me navigate the buying process smoothly."
              </p>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Buy Page -->
    <div id="buy" class="page">
      <button onclick="goBack()" class="back-button">
        <i class="fas fa-arrow-left"></i>
      </button>
      <section
        class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-16"
      >
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 class="text-4xl font-bold mb-4">Buy Your Dream Home</h2>
          <p class="text-blue-100 mb-8">
            Explore our exclusive collection of properties for sale
          </p>

          <!-- Search Bar -->
          <div
            class="bg-white rounded-xl shadow-2xl p-2 max-w-3xl mx-auto mt-8"
          >
            <div class="flex flex-col md:flex-row gap-2">
              <div class="flex-1 relative">
                <i
                  class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"
                ></i>
                <input
                  type="text"
                  id="buySearchInput"
                  placeholder="Search by city, locality, or property name..."
                  class="w-full pl-12 pr-4 py-4 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  onkeyup="handleBuySearchInput(event)"
                />
                <div
                  id="buySearchSuggestions"
                  class="absolute top-full left-0 right-0 bg-white rounded-lg shadow-lg mt-1 hidden z-20"
                >
                  <!-- Search suggestions will be populated here -->
                </div>
              </div>
              <button
                onclick="performBuySearch()"
                class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-4 rounded-lg hover:shadow-xl transition transform hover:scale-105 font-semibold shimmer"
              >
                <i class="fas fa-search mr-2"></i>Search Properties
              </button>
            </div>
          </div>
        </div>
      </section>

      <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Filter Toggle Button -->
        <div class="filter-toggle" onclick="toggleFilterSidebar()">
          <i class="fas fa-filter"></i>
          <span>Filters</span>
        </div>

        <!-- Results Header -->
        <div class="bg-white rounded-lg shadow-md p-4 mb-6">
          <div
            class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"
          >
            <div>
              <h3 class="text-lg font-semibold text-gray-900">
                <span id="buyResultCount">0</span> Properties Found
              </h3>
              <p class="text-sm text-gray-600">for sale</p>
            </div>
            <div class="flex gap-2">
              <div class="flex border border-gray-300 rounded-lg">
                <button
                  onclick="setBuyViewMode('grid')"
                  id="buyGridViewBtn"
                  class="px-3 py-2 bg-indigo-600 text-white rounded-l-lg"
                >
                  <i class="fas fa-th"></i>
                </button>
                <button
                  onclick="setBuyViewMode('list')"
                  id="buyListViewBtn"
                  class="px-3 py-2 bg-white text-gray-600 hover:bg-gray-50 rounded-r-lg"
                >
                  <i class="fas fa-list"></i>
                </button>
              </div>
              <select
                id="buySortSelect"
                onchange="sortBuyProperties()"
                class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
              >
                <option value="featured">Featured</option>
                <option value="price-low">Price: Low to High</option>
                <option value="price-high">Price: High to Low</option>
                <option value="newest">Newest First</option>
                <option value="bedrooms">Most Bedrooms</option>
              </select>
            </div>
          </div>
        </div>

        <div
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
          id="buyPropertyGrid"
        >
          <!-- Buy properties will be loaded here -->
        </div>

        <!-- Loading indicator -->
        <div id="buyPropertyLoading" class="property-loading hidden">
          <div class="loading-spinner"></div>
        </div>

        <!-- Load More Button -->
        <div id="buyLoadMoreContainer" class="load-more-container">
          <button
            onclick="loadMoreBuyProperties()"
            class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-3 rounded-lg hover:shadow-xl transition transform hover:scale-105 font-semibold"
          >
            <i class="fas fa-plus-circle mr-2"></i>Load More Properties
          </button>
        </div>
      </main>
    </div>

    <!-- Rent Page -->
    <div id="rent" class="page">
      <button onclick="goBack()" class="back-button">
        <i class="fas fa-arrow-left"></i>
      </button>
      <section
        class="bg-gradient-to-r from-green-600 to-teal-600 text-white py-16"
      >
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 class="text-4xl font-bold mb-4">Find Your Perfect Rental</h2>
          <p class="text-green-100 mb-8">
            Browse through our premium rental properties
          </p>

          <!-- Search Bar -->
          <div
            class="bg-white rounded-xl shadow-2xl p-2 max-w-3xl mx-auto mt-8"
          >
            <div class="flex flex-col md:flex-row gap-2">
              <div class="flex-1 relative">
                <i
                  class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"
                ></i>
                <input
                  type="text"
                  id="rentSearchInput"
                  placeholder="Search by city, locality, or property name..."
                  class="w-full pl-12 pr-4 py-4 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  onkeyup="handleRentSearchInput(event)"
                />
                <div
                  id="rentSearchSuggestions"
                  class="absolute top-full left-0 right-0 bg-white rounded-lg shadow-lg mt-1 hidden z-20"
                >
                  <!-- Search suggestions will be populated here -->
                </div>
              </div>
              <button
                onclick="performRentSearch()"
                class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-4 rounded-lg hover:shadow-xl transition transform hover:scale-105 font-semibold shimmer"
              >
                <i class="fas fa-search mr-2"></i>Search Properties
              </button>
            </div>
          </div>
        </div>
      </section>

      <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Filter Toggle Button -->
        <div class="filter-toggle" onclick="toggleFilterSidebar()">
          <i class="fas fa-filter"></i>
          <span>Filters</span>
        </div>

        <!-- Results Header -->
        <div class="bg-white rounded-lg shadow-md p-4 mb-6">
          <div
            class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"
          >
            <div>
              <h3 class="text-lg font-semibold text-gray-900">
                <span id="rentResultCount">0</span> Properties Found
              </h3>
              <p class="text-sm text-gray-600">for rent</p>
            </div>
            <div class="flex gap-2">
              <div class="flex border border-gray-300 rounded-lg">
                <button
                  onclick="setRentViewMode('grid')"
                  id="rentGridViewBtn"
                  class="px-3 py-2 bg-indigo-600 text-white rounded-l-lg"
                >
                  <i class="fas fa-th"></i>
                </button>
                <button
                  onclick="setRentViewMode('list')"
                  id="rentListViewBtn"
                  class="px-3 py-2 bg-white text-gray-600 hover:bg-gray-50 rounded-r-lg"
                >
                  <i class="fas fa-list"></i>
                </button>
              </div>
              <select
                id="rentSortSelect"
                onchange="sortRentProperties()"
                class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
              >
                <option value="featured">Featured</option>
                <option value="price-low">Price: Low to High</option>
                <option value="price-high">Price: High to Low</option>
                <option value="newest">Newest First</option>
                <option value="bedrooms">Most Bedrooms</option>
              </select>
            </div>
          </div>
        </div>

        <div
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
          id="rentPropertyGrid"
        >
          <!-- Rent properties will be loaded here -->
        </div>

        <!-- Loading indicator -->
        <div id="rentPropertyLoading" class="property-loading hidden">
          <div class="loading-spinner"></div>
        </div>

        <!-- Load More Button -->
        <div id="rentLoadMoreContainer" class="load-more-container">
          <button
            onclick="loadMoreRentProperties()"
            class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-3 rounded-lg hover:shadow-xl transition transform hover:scale-105 font-semibold"
          >
            <i class="fas fa-plus-circle mr-2"></i>Load More Properties
          </button>
        </div>
      </main>
    </div>

    <!-- Sell Page -->
    <div id="sell" class="page">
      <button onclick="goBack()" class="back-button">
        <i class="fas fa-arrow-left"></i>
      </button>
      <section
        class="bg-gradient-to-r from-purple-600 to-pink-600 text-white py-16"
      >
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 class="text-4xl font-bold mb-4">Sell Your Property</h2>
          <p class="text-purple-100 mb-8">
            List your property with us and reach thousands of potential buyers
          </p>
        </div>
      </section>

      <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="bg-white rounded-lg shadow-lg p-8">
          <h3 class="text-2xl font-bold mb-6">List Your Property</h3>
          <form onsubmit="handlePropertySubmission(event)">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label class="block text-gray-700 font-medium mb-2"
                  >Property Title</label
                >
                <input
                  type="text"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  required
                />
              </div>
              <div>
                <label class="block text-gray-700 font-medium mb-2"
                  >Property Type</label
                >
                <select
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  required
                >
                  <option>House</option>
                  <option>Apartment</option>
                  <option>Villa</option>
                  <option>Penthouse</option>
                </select>
              </div>
              <div>
                <label class="block text-gray-700 font-medium mb-2"
                  >Location</label
                >
                <input
                  type="text"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  required
                />
              </div>
              <div>
                <label class="block text-gray-700 font-medium mb-2"
                  >Price (â‚¹ Lakhs)</label
                >
                <input
                  type="number"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  required
                />
              </div>
              <div>
                <label class="block text-gray-700 font-medium mb-2"
                  >Bedrooms</label
                >
                <input
                  type="number"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  required
                />
              </div>
              <div>
                <label class="block text-gray-700 font-medium mb-2"
                  >Bathrooms</label
                >
                <input
                  type="number"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  required
                />
              </div>
              <div class="md:col-span-2">
                <label class="block text-gray-700 font-medium mb-2"
                  >Description</label
                >
                <textarea
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  rows="4"
                  required
                ></textarea>
              </div>
            </div>
            <button
              type="submit"
              class="mt-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-3 rounded-lg hover:shadow-xl transition transform hover:scale-105 font-semibold"
            >
              Submit Property
            </button>
          </form>
        </div>
      </main>
    </div>

    <!-- Agents Page -->
    <div id="agents" class="page">
      <button onclick="goBack()" class="back-button">
        <i class="fas fa-arrow-left"></i>
      </button>
      <section
        class="bg-gradient-to-r from-orange-600 to-red-600 text-white py-16"
      >
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 class="text-4xl font-bold mb-4">Meet Our Expert Agents</h2>
          <p class="text-orange-100 mb-8">
            Connect with our experienced real estate professionals
          </p>
        </div>
      </section>

      <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Agents will be loaded here -->
        </div>
      </main>
    </div>

    <!-- Blog Page -->
    <div id="blog" class="page">
      <button onclick="goBack()" class="back-button">
        <i class="fas fa-arrow-left"></i>
      </button>
      <section
        class="bg-gradient-to-r from-teal-600 to-cyan-600 text-white py-16"
      >
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 class="text-4xl font-bold mb-4">PropertyHub Blog</h2>
          <p class="text-teal-100 mb-8">
            Tips, guides, and insights for home buyers and sellers
          </p>
        </div>
      </section>

      <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="blog-card bg-white rounded-lg shadow-lg overflow-hidden">
            <div class="blog-image h-48 overflow-hidden">
              <img
                src="https://picsum.photos/seed/blog1/400/300"
                alt="Blog"
                class="w-full h-full object-cover"
              />
            </div>
            <div class="p-6">
              <div class="flex items-center mb-2">
                <span
                  class="bg-indigo-100 text-indigo-600 px-3 py-1 rounded-full text-xs font-medium mr-2"
                  >Buying Guide</span
                >
                <span class="text-gray-500 text-sm">5 min read</span>
              </div>
              <h3 class="text-xl font-semibold mb-2">
                10 Things to Check Before Buying a Home
              </h3>
              <p class="text-gray-600 mb-4">
                A comprehensive checklist for home buyers to ensure you're
                making the right investment.
              </p>
              <a href="#" class="text-indigo-600 font-medium hover:underline"
                >Read More â†’</a
              >
            </div>
          </div>

          <div class="blog-card bg-white rounded-lg shadow-lg overflow-hidden">
            <div class="blog-image h-48 overflow-hidden">
              <img
                src="https://picsum.photos/seed/blog2/400/300"
                alt="Blog"
                class="w-full h-full object-cover"
              />
            </div>
            <div class="p-6">
              <div class="flex items-center mb-2">
                <span
                  class="bg-green-100 text-green-600 px-3 py-1 rounded-full text-xs font-medium mr-2"
                  >Investment</span
                >
                <span class="text-gray-500 text-sm">8 min read</span>
              </div>
              <h3 class="text-xl font-semibold mb-2">
                Real Estate Investment Trends in 2025
              </h3>
              <p class="text-gray-600 mb-4">
                Discover the latest trends shaping the Indian real estate market
                this year.
              </p>
              <a href="#" class="text-indigo-600 font-medium hover:underline"
                >Read More â†’</a
              >
            </div>
          </div>

          <div class="blog-card bg-white rounded-lg shadow-lg overflow-hidden">
            <div class="blog-image h-48 overflow-hidden">
              <img
                src="https://picsum.photos/seed/blog3/400/300"
                alt="Blog"
                class="w-full h-full object-cover"
              />
            </div>
            <div class="p-6">
              <div class="flex items-center mb-2">
                <span
                  class="bg-purple-100 text-purple-600 px-3 py-1 rounded-full text-xs font-medium mr-2"
                  >Home Decor</span
                >
                <span class="text-gray-500 text-sm">6 min read</span>
              </div>
              <h3 class="text-xl font-semibold mb-2">
                Interior Design Tips for Small Spaces
              </h3>
              <p class="text-gray-600 mb-4">
                Transform your compact home into a spacious and functional
                living area with these tips.
              </p>
              <a href="#" class="text-indigo-600 font-medium hover:underline"
                >Read More â†’</a
              >
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- About Page -->
    <div id="about" class="page">
      <button onclick="goBack()" class="back-button">
        <i class="fas fa-arrow-left"></i>
      </button>
      <section
        class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-16"
      >
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 class="text-4xl font-bold mb-4">About PropertyHub India</h2>
          <p class="text-indigo-100 mb-8">
            Your trusted partner in finding the perfect home
          </p>
        </div>
      </section>

      <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="bg-white rounded-lg shadow-lg p-8">
          <h3 class="text-2xl font-bold mb-6">Our Story</h3>
          <p class="text-gray-600 mb-6">
            Founded in 2020, PropertyHub India has quickly become one of the
            most trusted real estate platforms in the country. We connect home
            buyers, sellers, and renters with their ideal properties across
            major Indian cities.
          </p>

          <h3 class="text-2xl font-bold mb-6">Our Mission</h3>
          <p class="text-gray-600 mb-6">
            To make the property search process simple, transparent, and
            enjoyable for everyone. We leverage technology to provide accurate
            information and personalized recommendations.
          </p>

          <h3 class="text-2xl font-bold mb-6">Our Values</h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="text-center">
              <div
                class="bg-indigo-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"
              >
                <i class="fas fa-handshake text-indigo-600 text-2xl"></i>
              </div>
              <h4 class="font-semibold mb-2">Trust</h4>
              <p class="text-gray-600 text-sm">
                Building lasting relationships based on honesty and integrity
              </p>
            </div>
            <div class="text-center">
              <div
                class="bg-indigo-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"
              >
                <i class="fas fa-lightbulb text-indigo-600 text-2xl"></i>
              </div>
              <h4 class="font-semibold mb-2">Innovation</h4>
              <p class="text-gray-600 text-sm">
                Continuously improving our platform with cutting-edge technology
              </p>
            </div>
            <div class="text-center">
              <div
                class="bg-indigo-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"
              >
                <i class="fas fa-users text-indigo-600 text-2xl"></i>
              </div>
              <h4 class="font-semibold mb-2">Customer Focus</h4>
              <p class="text-gray-600 text-sm">
                Putting our customers' needs at the center of everything we do
              </p>
            </div>
          </div>

          <h3 class="text-2xl font-bold mb-6">Our Team</h3>
          <p class="text-gray-600 mb-6">
            Our diverse team of real estate experts, technologists, and customer
            service professionals work together to deliver exceptional
            experiences.
          </p>

          <h3 class="text-2xl font-bold mb-6">Contact Us</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <h4 class="font-semibold mb-2">Headquarters</h4>
              <p class="text-gray-600">
                123 Real Estate Plaza, Bandra Kurla Complex, Mumbai, Maharashtra
                400051
              </p>
            </div>
            <div>
              <h4 class="font-semibold mb-2">Get in Touch</h4>
              <p class="text-gray-600">
                Email: info@propertyhub.in<br />Phone: +91 12345 67890
              </p>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Contact Page -->
    <div id="contact" class="page">
      <button onclick="goBack()" class="back-button">
        <i class="fas fa-arrow-left"></i>
      </button>
      <section
        class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-16"
      >
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 class="text-4xl font-bold mb-4">Contact Us</h2>
          <p class="text-indigo-100 mb-8">
            We're here to help with your property needs
          </p>
        </div>
      </section>

      <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <div class="bg-white rounded-lg shadow-lg p-8">
            <h3 class="text-2xl font-bold mb-6">Send Us a Message</h3>
            <form onsubmit="handleContactForm(event)">
              <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2">Name</label>
                <input
                  type="text"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  required
                />
              </div>
              <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2"
                  >Email</label
                >
                <input
                  type="email"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  required
                />
              </div>
              <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2"
                  >Phone</label
                >
                <input
                  type="tel"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  required
                />
              </div>
              <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2"
                  >Subject</label
                >
                <input
                  type="text"
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  required
                />
              </div>
              <div class="mb-6">
                <label class="block text-gray-700 font-medium mb-2"
                  >Message</label
                >
                <textarea
                  class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  rows="4"
                  required
                ></textarea>
              </div>
              <button
                type="submit"
                class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg hover:shadow-xl transition transform hover:scale-105 font-semibold"
              >
                Send Message
              </button>
            </form>
          </div>

          <div class="bg-white rounded-lg shadow-lg p-8">
            <h3 class="text-2xl font-bold mb-6">Contact Information</h3>
            <div class="space-y-4 mb-8">
              <div class="flex items-start">
                <i class="fas fa-map-marker-alt text-indigo-600 mt-1 mr-4"></i>
                <div>
                  <h4 class="font-semibold">Headquarters</h4>
                  <p class="text-gray-600">
                    123 Real Estate Plaza, Bandra Kurla Complex, Mumbai,
                    Maharashtra 400051
                  </p>
                </div>
              </div>
              <div class="flex items-start">
                <i class="fas fa-phone text-indigo-600 mt-1 mr-4"></i>
                <div>
                  <h4 class="font-semibold">Phone</h4>
                  <p class="text-gray-600">+91 12345 67890</p>
                </div>
              </div>
              <div class="flex items-start">
                <i class="fas fa-envelope text-indigo-600 mt-1 mr-4"></i>
                <div>
                  <h4 class="font-semibold">Email</h4>
                  <p class="text-gray-600">info@propertyhub.in</p>
                </div>
              </div>
              <div class="flex items-start">
                <i class="fas fa-clock text-indigo-600 mt-1 mr-4"></i>
                <div>
                  <h4 class="font-semibold">Business Hours</h4>
                  <p class="text-gray-600">
                    Monday - Friday: 9:00 AM - 6:00 PM<br />Saturday: 10:00 AM -
                    4:00 PM<br />Sunday: Closed
                  </p>
                </div>
              </div>
            </div>

            <h3 class="text-xl font-bold mb-4">Follow Us</h3>
            <div class="flex space-x-4">
              <a
                href="#"
                class="bg-indigo-100 text-indigo-600 w-10 h-10 rounded-full flex items-center justify-center hover:bg-indigo-200 transition"
              >
                <i class="fab fa-facebook-f"></i>
              </a>
              <a
                href="#"
                class="bg-indigo-100 text-indigo-600 w-10 h-10 rounded-full flex items-center justify-center hover:bg-indigo-200 transition"
              >
                <i class="fab fa-twitter"></i>
              </a>
              <a
                href="#"
                class="bg-indigo-100 text-indigo-600 w-10 h-10 rounded-full flex items-center justify-center hover:bg-indigo-200 transition"
              >
                <i class="fab fa-instagram"></i>
              </a>
              <a
                href="#"
                class="bg-indigo-100 text-indigo-600 w-10 h-10 rounded-full flex items-center justify-center hover:bg-indigo-200 transition"
              >
                <i class="fab fa-linkedin-in"></i>
              </a>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Careers Page -->
    <div id="careers" class="page">
      <button onclick="goBack()" class="back-button">
        <i class="fas fa-arrow-left"></i>
      </button>
      <section
        class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-16"
      >
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 class="text-4xl font-bold mb-4">Join Our Team</h2>
          <p class="text-indigo-100 mb-8">
            Build your career with PropertyHub India
          </p>
        </div>
      </section>

      <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
          <h3 class="text-2xl font-bold mb-6">Why Work With Us</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="flex items-start">
              <div
                class="bg-indigo-100 rounded-full w-12 h-12 flex items-center justify-center mr-4 flex-shrink-0"
              >
                <i class="fas fa-rocket text-indigo-600"></i>
              </div>
              <div>
                <h4 class="font-semibold mb-2">Growth Opportunities</h4>
                <p class="text-gray-600">
                  We believe in promoting from within and providing continuous
                  learning opportunities.
                </p>
              </div>
            </div>
            <div class="flex items-start">
              <div
                class="bg-indigo-100 rounded-full w-12 h-12 flex items-center justify-center mr-4 flex-shrink-0"
              >
                <i class="fas fa-heart text-indigo-600"></i>
              </div>
              <div>
                <h4 class="font-semibold mb-2">Work-Life Balance</h4>
                <p class="text-gray-600">
                  Flexible work arrangements and comprehensive benefits to
                  support your well-being.
                </p>
              </div>
            </div>
            <div class="flex items-start">
              <div
                class="bg-indigo-100 rounded-full w-12 h-12 flex items-center justify-center mr-4 flex-shrink-0"
              >
                <i class="fas fa-users text-indigo-600"></i>
              </div>
              <div>
                <h4 class="font-semibold mb-2">Great Team</h4>
                <p class="text-gray-600">
                  Join a diverse, talented team that's passionate about
                  transforming real estate.
                </p>
              </div>
            </div>
            <div class="flex items-start">
              <div
                class="bg-indigo-100 rounded-full w-12 h-12 flex items-center justify-center mr-4 flex-shrink-0"
              >
                <i class="fas fa-trophy text-indigo-600"></i>
              </div>
              <div>
                <h4 class="font-semibold mb-2">Competitive Compensation</h4>
                <p class="text-gray-600">
                  Industry-leading salary packages and performance-based
                  incentives.
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-lg p-8">
          <h3 class="text-2xl font-bold mb-6">Open Positions</h3>
          <div class="space-y-6">
            <div class="border-b pb-6">
              <div
                class="flex flex-col md:flex-row md:items-center md:justify-between mb-2"
              >
                <h4 class="text-xl font-semibold">Senior Real Estate Agent</h4>
                <div
                  class="flex items-center text-sm text-gray-600 mt-2 md:mt-0"
                >
                  <i class="fas fa-map-marker-alt mr-2"></i>
                  <span class="mr-4">Mumbai, Bangalore, Delhi</span>
                  <i class="fas fa-briefcase mr-2"></i>
                  <span class="mr-4">Full-time</span>
                  <i class="fas fa-rupee-sign mr-2"></i>
                  <span>Competitive</span>
                </div>
              </div>
              <p class="text-gray-600 mb-4">
                We're looking for experienced real estate agents to join our
                growing team. You'll be responsible for helping clients buy,
                sell, and rent properties while providing exceptional service.
              </p>
              <button
                onclick="applyForJob('Senior Real Estate Agent')"
                class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition"
              >
                Apply Now
              </button>
            </div>

            <div class="border-b pb-6">
              <div
                class="flex flex-col md:flex-row md:items-center md:justify-between mb-2"
              >
                <h4 class="text-xl font-semibold">Frontend Developer</h4>
                <div
                  class="flex items-center text-sm text-gray-600 mt-2 md:mt-0"
                >
                  <i class="fas fa-map-marker-alt mr-2"></i>
                  <span class="mr-4">Mumbai</span>
                  <i class="fas fa-briefcase mr-2"></i>
                  <span class="mr-4">Full-time</span>
                  <i class="fas fa-rupee-sign mr-2"></i>
                  <span>Competitive</span>
                </div>
              </div>
              <p class="text-gray-600 mb-4">
                Join our tech team to build and improve our platform. You'll
                work with modern technologies to create exceptional user
                experiences for property seekers.
              </p>
              <button
                onclick="applyForJob('Frontend Developer')"
                class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition"
              >
                Apply Now
              </button>
            </div>

            <div class="border-b pb-6">
              <div
                class="flex flex-col md:flex-row md:items-center md:justify-between mb-2"
              >
                <h4 class="text-xl font-semibold">Marketing Manager</h4>
                <div
                  class="flex items-center text-sm text-gray-600 mt-2 md:mt-0"
                >
                  <i class="fas fa-map-marker-alt mr-2"></i>
                  <span class="mr-4">Mumbai</span>
                  <i class="fas fa-briefcase mr-2"></i>
                  <span class="mr-4">Full-time</span>
                  <i class="fas fa-rupee-sign mr-2"></i>
                  <span>Competitive</span>
                </div>
              </div>
              <p class="text-gray-600 mb-4">
                Lead our marketing efforts to grow the PropertyHub brand. You'll
                develop and execute marketing campaigns across digital and
                traditional channels.
              </p>
              <button
                onclick="applyForJob('Marketing Manager')"
                class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition"
              >
                Apply Now
              </button>
            </div>

            <div class="pb-6">
              <div
                class="flex flex-col md:flex-row md:items-center md:justify-between mb-2"
              >
                <h4 class="text-xl font-semibold">
                  Customer Success Representative
                </h4>
                <div
                  class="flex items-center text-sm text-gray-600 mt-2 md:mt-0"
                >
                  <i class="fas fa-map-marker-alt mr-2"></i>
                  <span class="mr-4">Remote</span>
                  <i class="fas fa-briefcase mr-2"></i>
                  <span class="mr-4">Full-time</span>
                  <i class="fas fa-rupee-sign mr-2"></i>
                  <span>Competitive</span>
                </div>
              </div>
              <p class="text-gray-600 mb-4">
                Help our users have the best experience on our platform. You'll
                provide support, answer questions, and gather feedback to
                improve our services.
              </p>
              <button
                onclick="applyForJob('Customer Success Representative')"
                class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition"
              >
                Apply Now
              </button>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Comparison Page -->
    <div id="comparison" class="page">
      <button onclick="goBack()" class="back-button">
        <i class="fas fa-arrow-left"></i>
      </button>
      <section
        class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-16"
      >
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 class="text-4xl font-bold mb-4">Property Comparison</h2>
          <p class="text-indigo-100 mb-8">
            Compare properties side by side to make the best decision
          </p>
        </div>
      </section>

      <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div
          id="comparisonContent"
          class="grid grid-cols-1 md:grid-cols-3 gap-6"
        >
          <!-- Comparison content will be dynamically loaded here -->
        </div>

        <div id="emptyComparison" class="text-center py-16">
          <i class="fas fa-balance-scale text-6xl text-gray-300 mb-4"></i>
          <h3 class="text-xl font-semibold text-gray-600 mb-2">
            No properties selected for comparison
          </h3>
          <p class="text-gray-500">
            Select up to 3 properties from the listings to compare them
          </p>
          <button
            onclick="showPage('home')"
            class="mt-4 bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition"
          >
            Browse Properties
          </button>
        </div>
      </main>
    </div>

    <!-- Login Page -->
    <div id="login" class="page">
      <button onclick="goBack()" class="back-button">
        <i class="fas fa-arrow-left"></i>
      </button>
      <section
        class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-8 compact-header"
      >
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 class="text-2xl font-bold mb-2">Sign In to PropertyHub</h2>
          <!-- <p class="text-indigo-100">Access your account and saved properties</p> -->
        </div>
      </section>

      <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="max-w-md mx-auto">
          <div class="bg-white rounded-lg shadow-lg p-8">
            <div class="text-center mb-6">
              <h3 class="text-xl font-bold">Welcome Back</h3>
              <p class="text-gray-600 mt-2">
                Sign in to continue to PropertyHub
              </p>
            </div>

            <form id="loginForm" onsubmit="handleLogin(event)">
              <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2"
                  >Email</label
                >
                <input
                  type="email"
                  id="loginEmail"
                  class="auth-input"
                  placeholder="Enter your email"
                  required
                />
                <div id="loginEmailError" class="error-message"></div>
              </div>

              <div class="mb-6">
                <label class="block text-gray-700 font-medium mb-2"
                  >Password</label
                >
                <input
                  type="password"
                  id="loginPassword"
                  class="auth-input"
                  placeholder="Enter your password"
                  required
                />
                <div id="loginPasswordError" class="error-message"></div>
              </div>

              <div class="flex items-center justify-between mb-6">
                <label class="flex items-center">
                  <input type="checkbox" class="mr-2" />
                  <span class="text-gray-700">Remember me</span>
                </label>
                <a href="#" class="auth-link">Forgot password?</a>
              </div>

              <button type="submit" id="loginButton" class="auth-button mb-4">
                Sign In
              </button>

              <div id="loginSuccess" class="success-message text-center"></div>
            </form>

            <div class="auth-divider">
              <span>OR</span>
            </div>

            <div class="space-y-3 mb-6">
              <button
                onclick="socialLogin('google')"
                class="social-auth-button"
              >
                <i class="fab fa-google"></i>
                Continue with Google
              </button>
              <button
                onclick="socialLogin('facebook')"
                class="social-auth-button"
              >
                <i class="fab fa-facebook-f"></i>
                Continue with Facebook
              </button>
            </div>

            <div class="text-center">
              <p class="text-gray-600">
                Don't have an account?
                <a href="#" onclick="showPage('signup')" class="auth-link"
                  >Sign Up</a
                >
              </p>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Signup Page -->
    <div id="signup" class="page">
      <button onclick="goBack()" class="back-button">
        <i class="fas fa-arrow-left"></i>
      </button>
      <section
        class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-8 compact-header"
      >
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 class="text-2xl font-bold mb-2">Join PropertyHub</h2>
          <p class="text-indigo-100">
            Create an account to start your property journey
          </p>
        </div>
      </section>

      <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="max-w-md mx-auto">
          <div class="bg-white rounded-lg shadow-lg p-8">
            <div class="text-center mb-6">
              <h3 class="text-xl font-bold">Create Account</h3>
              <p class="text-gray-600 mt-2">
                Join PropertyHub to find your dream home
              </p>
            </div>

            <form id="signupForm" onsubmit="handleSignup(event)">
              <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2"
                  >Full Name</label
                >
                <input
                  type="text"
                  id="signupName"
                  class="auth-input"
                  placeholder="Enter your full name"
                  required
                />
                <div id="signupNameError" class="error-message"></div>
              </div>

              <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2"
                  >Email</label
                >
                <input
                  type="email"
                  id="signupEmail"
                  class="auth-input"
                  placeholder="Enter your email"
                  required
                />
                <div id="signupEmailError" class="error-message"></div>
              </div>

              <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2"
                  >Phone</label
                >
                <input
                  type="tel"
                  id="signupPhone"
                  class="auth-input"
                  placeholder="Enter your phone number"
                  required
                />
                <div id="signupPhoneError" class="error-message"></div>
              </div>

              <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2"
                  >Password</label
                >
                <input
                  type="password"
                  id="signupPassword"
                  class="auth-input"
                  placeholder="Create a password"
                  required
                />
                <div id="signupPasswordError" class="error-message"></div>
              </div>

              <div class="mb-6">
                <label class="block text-gray-700 font-medium mb-2"
                  >Confirm Password</label
                >
                <input
                  type="password"
                  id="signupConfirmPassword"
                  class="auth-input"
                  placeholder="Confirm your password"
                  required
                />
                <div
                  id="signupConfirmPasswordError"
                  class="error-message"
                ></div>
              </div>

              <div class="mb-6">
                <label class="flex items-center">
                  <input type="checkbox" class="mr-2" required />
                  <span class="text-gray-700"
                    >I agree to the
                    <a href="#" class="auth-link">Terms of Service</a> and
                    <a href="#" class="auth-link">Privacy Policy</a></span
                  >
                </label>
              </div>

              <button type="submit" id="signupButton" class="auth-button mb-4">
                Create Account
              </button>

              <div id="signupSuccess" class="success-message text-center"></div>
            </form>

            <div class="auth-divider">
              <span>OR</span>
            </div>

            <div class="space-y-3 mb-6">
              <button
                onclick="socialLogin('google')"
                class="social-auth-button"
              >
                <i class="fab fa-google"></i>
                Sign up with Google
              </button>
              <button
                onclick="socialLogin('facebook')"
                class="social-auth-button"
              >
                <i class="fab fa-facebook-f"></i>
                Sign up with Facebook
              </button>
            </div>

            <div class="text-center">
              <p class="text-gray-600">
                Already have an account?
                <a href="#" onclick="showPage('login')" class="auth-link"
                  >Sign In</a
                >
              </p>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Profile Page -->
    <div id="profile" class="page">
      <button onclick="goBack()" class="back-button">
        <i class="fas fa-arrow-left"></i>
      </button>
      <section
        class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-16"
      >
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 class="text-4xl font-bold mb-4">My Profile</h2>
          <p class="text-indigo-100 mb-8">
            Manage your account and preferences
          </p>
        </div>
      </section>

      <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="bg-white rounded-lg shadow-lg p-8">
          <div class="flex items-center mb-6">
            <div
              class="w-24 h-24 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold"
            >
              <i class="fas fa-user"></i>
            </div>
            <div class="ml-6">
              <h3 class="text-2xl font-bold" id="userName">Guest User</h3>
              <p class="text-gray-600" id="userEmail">
                Please sign in to continue
              </p>
            </div>
          </div>

          <div class="border-t pt-6">
            <h4 class="text-lg font-semibold mb-4">Account Settings</h4>
            <div class="space-y-4">
              <div
                class="flex items-center justify-between p-4 bg-gray-50 rounded-lg"
              >
                <div>
                  <h5 class="font-medium">Email Notifications</h5>
                  <p class="text-sm text-gray-600">
                    Receive updates about new properties
                  </p>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                  <input type="checkbox" class="sr-only peer" checked />
                  <div
                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"
                  ></div>
                </label>
              </div>
              <div
                class="flex items-center justify-between p-4 bg-gray-50 rounded-lg"
              >
                <div>
                  <h5 class="font-medium">Property Alerts</h5>
                  <p class="text-sm text-gray-600">
                    Get notified when matching properties are listed
                  </p>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                  <input type="checkbox" class="sr-only peer" checked />
                  <div
                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"
                  ></div>
                </label>
              </div>
            </div>
          </div>

          <div class="border-t pt-6 mt-6">
            <h4 class="text-lg font-semibold mb-4">Saved Searches</h4>
            <div id="savedSearches" class="space-y-2">
              <!-- Saved searches will be populated here -->
            </div>
            <button
              onclick="saveCurrentSearch()"
              class="mt-4 bg-indigo-100 text-indigo-600 px-4 py-2 rounded-lg hover:bg-indigo-200 transition"
            >
              <i class="fas fa-save mr-2"></i>Save Current Search
            </button>
          </div>

          <div class="border-t pt-6 mt-6">
            <button
              onclick="handleSignOut()"
              class="bg-red-500 text-white px-6 py-2 rounded-lg hover:bg-red-600 transition"
            >
              <i class="fas fa-sign-out-alt mr-2"></i>Sign Out
            </button>
          </div>
        </div>
      </main>
    </div>

    <!-- Wishlist Page -->
    <div id="wishlist" class="page">
      <button onclick="goBack()" class="back-button">
        <i class="fas fa-arrow-left"></i>
      </button>
      <section
        class="bg-gradient-to-r from-pink-600 to-red-600 text-white py-16"
      >
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 class="text-4xl font-bold mb-4">My Wishlist</h2>
          <p class="text-pink-100 mb-8">Properties you've saved for later</p>
        </div>
      </section>

      <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div
          id="wishlistGrid"
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
        >
          <!-- Wishlist items will be loaded here -->
        </div>
        <div id="emptyWishlist" class="text-center py-16">
          <i class="fas fa-heart text-6xl text-gray-300 mb-4"></i>
          <h3 class="text-xl font-semibold text-gray-600 mb-2">
            Your wishlist is empty
          </h3>
          <p class="text-gray-500">Start adding properties you love!</p>
          <button
            onclick="showPage('home')"
            class="mt-4 bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition"
          >
            Browse Properties
          </button>
        </div>
      </main>
    </div>

    <!-- Filter Sidebar -->
    <div class="filter-sidebar" id="filterSidebar">
      <div class="p-6">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-lg font-semibold text-gray-900">Filters</h3>
          <button
            onclick="toggleFilterSidebar()"
            class="text-gray-500 hover:text-gray-700"
          >
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>

        <!-- Property Type -->
        <div class="mb-6">
          <h4 class="font-medium text-gray-700 mb-3">Property Type</h4>
          <div class="space-y-2">
            <div class="flex items-center">
              <input
                type="checkbox"
                id="type-house"
                class="filter-checkbox hidden"
                value="House"
              />
              <label
                for="type-house"
                class="flex-1 px-4 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition text-center"
              >
                <i class="fas fa-home mr-2"></i>House
              </label>
            </div>
            <div class="flex items-center">
              <input
                type="checkbox"
                id="type-apartment"
                class="filter-checkbox hidden"
                value="Apartment"
              />
              <label
                for="type-apartment"
                class="flex-1 px-4 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition text-center"
              >
                <i class="fas fa-building mr-2"></i>Apartment
              </label>
            </div>
            <div class="flex items-center">
              <input
                type="checkbox"
                id="type-villa"
                class="filter-checkbox hidden"
                value="Villa"
              />
              <label
                for="type-villa"
                class="flex-1 px-4 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition text-center"
              >
                <i class="fas fa-city mr-2"></i>Villa
              </label>
            </div>
            <div class="flex items-center">
              <input
                type="checkbox"
                id="type-penthouse"
                class="filter-checkbox hidden"
                value="Penthouse"
              />
              <label
                for="type-penthouse"
                class="flex-1 px-4 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition text-center"
              >
                <i class="fas fa-crown mr-2"></i>Penthouse
              </label>
            </div>
          </div>
        </div>

        <!-- Price Range -->
        <div class="mb-6">
          <h4 class="font-medium text-gray-700 mb-3">Price Range (â‚¹ Lakhs)</h4>
          <div class="space-y-3">
            <div>
              <label class="text-sm text-gray-600"
                >Min: â‚¹<span id="minPriceValue">0</span>L</label
              >
              <input
                type="range"
                id="minPrice"
                min="0"
                max="500"
                step="10"
                value="0"
                class="price-slider w-full"
                oninput="updatePriceRange()"
              />
            </div>
            <div>
              <label class="text-sm text-gray-600"
                >Max: â‚¹<span id="maxPriceValue">500</span>L</label
              >
              <input
                type="range"
                id="maxPrice"
                min="0"
                max="500"
                step="10"
                value="500"
                class="price-slider w-full"
                oninput="updatePriceRange()"
              />
            </div>
          </div>
        </div>

        <!-- Bedrooms -->
        <div class="mb-6">
          <h4 class="font-medium text-gray-700 mb-3">Bedrooms</h4>
          <div class="flex gap-2">
            <button
              onclick="toggleBedroom(this, 'any')"
              class="bedroom-btn flex-1 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition"
            >
              Any
            </button>
            <button
              onclick="toggleBedroom(this, '1')"
              class="bedroom-btn flex-1 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition"
            >
              1+
            </button>
            <button
              onclick="toggleBedroom(this, '2')"
              class="bedroom-btn flex-1 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition"
            >
              2+
            </button>
            <button
              onclick="toggleBedroom(this, '3')"
              class="bedroom-btn flex-1 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition"
            >
              3+
            </button>
            <button
              onclick="toggleBedroom(this, '4')"
              class="bedroom-btn flex-1 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition"
            >
              4+
            </button>
          </div>
        </div>

        <!-- Amenities -->
        <div class="mb-6">
          <h4 class="font-medium text-gray-700 mb-3">Amenities</h4>
          <div class="space-y-2">
            <label
              class="flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition"
            >
              <input
                type="checkbox"
                class="amenity-checkbox mr-2 text-indigo-600"
                value="Parking"
              />
              <span class="text-gray-700"
                ><i class="fas fa-car mr-2"></i>Parking</span
              >
            </label>
            <label
              class="flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition"
            >
              <input
                type="checkbox"
                class="amenity-checkbox mr-2 text-indigo-600"
                value="Pool"
              />
              <span class="text-gray-700"
                ><i class="fas fa-swimming-pool mr-2"></i>Pool</span
              >
            </label>
            <label
              class="flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition"
            >
              <input
                type="checkbox"
                class="amenity-checkbox mr-2 text-indigo-600"
                value="Gym"
              />
              <span class="text-gray-700"
                ><i class="fas fa-dumbbell mr-2"></i>Gym</span
              >
            </label>
            <label
              class="flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition"
            >
              <input
                type="checkbox"
                class="amenity-checkbox mr-2 text-indigo-600"
                value="Security"
              />
              <span class="text-gray-700"
                ><i class="fas fa-shield-alt mr-2"></i>24/7 Security</span
              >
            </label>
          </div>
        </div>

        <button
          onclick="applyFilters()"
          class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg hover:shadow-lg transition transform hover:scale-105 font-semibold"
        >
          Apply Filters
        </button>
        <button
          onclick="resetFilters()"
          class="w-full mt-2 bg-gray-200 text-gray-800 py-3 rounded-lg hover:bg-gray-300 transition font-semibold"
        >
          Reset All
        </button>
      </div>
    </div>

    <!-- Filter Overlay -->
    <div
      class="filter-overlay"
      id="filterOverlay"
      onclick="toggleFilterSidebar()"
    ></div>

    <!-- Property Detail Modal -->
    <div id="propertyModal" class="fixed inset-0 z-50 hidden">
      <div
        class="modal-backdrop absolute inset-0"
        onclick="closePropertyModal()"
      ></div>
      <div class="relative flex items-center justify-center min-h-screen p-4">
        <div
          class="bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto"
        >
          <div id="modalContent">
            <!-- Modal content will be dynamically loaded here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Comparison Modal -->
    <div id="comparisonModal" class="fixed inset-0 z-50 hidden">
      <div
        class="modal-backdrop absolute inset-0"
        onclick="closeComparisonModal()"
      ></div>
      <div class="relative flex items-center justify-center min-h-screen p-4">
        <div
          class="bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto"
        >
          <div class="p-6">
            <div class="flex justify-between items-center mb-6">
              <h2 class="text-2xl font-bold">Property Comparison</h2>
              <button
                onclick="closeComparisonModal()"
                class="text-gray-500 hover:text-gray-700"
              >
                <i class="fas fa-times text-xl"></i>
              </button>
            </div>
            <div
              id="comparisonContent"
              class="grid grid-cols-1 md:grid-cols-3 gap-6"
            >
              <!-- Comparison content will be dynamically loaded here -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Mortgage Calculator Modal -->
    <div id="calculatorModal" class="fixed inset-0 z-50 hidden">
      <div
        class="modal-backdrop absolute inset-0"
        onclick="closeCalculatorModal()"
      ></div>
      <div class="relative flex items-center justify-center min-h-screen p-4">
        <div class="bg-white rounded-xl shadow-2xl max-w-2xl w-full">
          <div class="p-6">
            <div class="flex justify-between items-center mb-6">
              <h2 class="text-2xl font-bold">Mortgage Calculator</h2>
              <button
                onclick="closeCalculatorModal()"
                class="text-gray-500 hover:text-gray-700"
              >
                <i class="fas fa-times text-xl"></i>
              </button>
            </div>
            <div class="space-y-4">
              <div>
                <label class="block text-gray-700 font-medium mb-2"
                  >Property Price (â‚¹)</label
                >
                <input
                  type="number"
                  id="calcPrice"
                  class="calculator-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  placeholder="5000000"
                />
              </div>
              <div>
                <label class="block text-gray-700 font-medium mb-2"
                  >Down Payment (%)</label
                >
                <input
                  type="number"
                  id="calcDownPayment"
                  class="calculator-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  placeholder="20"
                />
              </div>
              <div>
                <label class="block text-gray-700 font-medium mb-2"
                  >Interest Rate (%)</label
                >
                <input
                  type="number"
                  id="calcInterest"
                  class="calculator-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  placeholder="8.5"
                />
              </div>
              <div>
                <label class="block text-gray-700 font-medium mb-2"
                  >Loan Term (Years)</label
                >
                <input
                  type="number"
                  id="calcTerm"
                  class="calculator-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                  placeholder="20"
                />
              </div>
              <button
                onclick="calculateMortgage()"
                class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg hover:shadow-lg transition transform hover:scale-105 font-semibold"
              >
                Calculate EMI
              </button>
              <div
                id="calcResult"
                class="hidden mt-6 p-4 bg-indigo-50 rounded-lg"
              >
                <h3 class="text-lg font-semibold mb-2">
                  Monthly EMI:
                  <span id="monthlyEMI" class="text-indigo-600"></span>
                </h3>
                <p class="text-gray-600">
                  Total Interest: <span id="totalInterest"></span>
                </p>
                <p class="text-gray-600">
                  Total Payment: <span id="totalPayment"></span>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Theme Toggle Button -->
    <div class="theme-toggle" onclick="toggleTheme()">
      <i class="fas fa-moon text-2xl" id="themeIcon"></i>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white mt-16">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h4 class="text-lg font-semibold mb-4">PropertyHub India</h4>
            <p class="text-gray-400">
              Your trusted partner in finding the perfect home in India.
            </p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Quick Links</h4>
            <ul class="space-y-2 text-gray-400">
              <li>
                <a
                  href="#"
                  onclick="showPage('about')"
                  class="hover:text-white transition"
                  >About Us</a
                >
              </li>
              <li>
                <a
                  href="#"
                  onclick="showPage('contact')"
                  class="hover:text-white transition"
                  >Contact</a
                >
              </li>
              <li>
                <a
                  href="#"
                  onclick="showPage('careers')"
                  class="hover:text-white transition"
                  >Careers</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Services</h4>
            <ul class="space-y-2 text-gray-400">
              <li>
                <a
                  href="#"
                  onclick="showPage('buy')"
                  class="hover:text-white transition"
                  >Buy Property</a
                >
              </li>
              <li>
                <a
                  href="#"
                  onclick="showPage('sell')"
                  class="hover:text-white transition"
                  >Sell Property</a
                >
              </li>
              <li>
                <a
                  href="#"
                  onclick="showPage('rent')"
                  class="hover:text-white transition"
                  >Rent Property</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">Follow Us</h4>
            <div class="flex space-x-4">
              <a
                href="#"
                class="text-gray-400 hover:text-white transition transform hover:scale-110"
                ><i class="fab fa-facebook text-xl"></i
              ></a>
              <a
                href="#"
                class="text-gray-400 hover:text-white transition transform hover:scale-110"
                ><i class="fab fa-twitter text-xl"></i
              ></a>
              <a
                href="#"
                class="text-gray-400 hover:text-white transition transform hover:scale-110"
                ><i class="fab fa-instagram text-xl"></i
              ></a>
              <a
                href="#"
                class="text-gray-400 hover:text-white transition transform hover:scale-110"
                ><i class="fab fa-linkedin text-xl"></i
              ></a>
            </div>
          </div>
        </div>
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>&copy; 2025 PropertyHub India. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script>
      // Indian property data (40 properties total)
      const properties = [
        {
          id: 1,
          title: "Luxury 3BHK Apartment in Bandra",
          type: "Apartment",
          price: 250,
          location: "Bandra West, Mumbai",
          bedrooms: 3,
          bathrooms: 2,
          area: 1500,
          image: "https://picsum.photos/seed/mumbai1/400/300",
          featured: true,
          new: true,
          amenities: ["Parking", "Gym", "Security"],
          description:
            "Premium 3BHK apartment in the heart of Bandra with sea view and modern amenities.",
          coordinates: [19.0596, 72.8295],
        },
        {
          id: 2,
          title: "Spacious Independent House in Whitefield",
          type: "House",
          price: 180,
          location: "Whitefield, Bangalore",
          bedrooms: 4,
          bathrooms: 3,
          area: 2500,
          image: "https://picsum.photos/seed/bangalore1/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Pool", "Security"],
          description:
            "Beautiful independent house with garden and modern amenities in IT hub.",
          coordinates: [12.9698, 77.7499],
        },
        {
          id: 3,
          title: "Premium Penthouse in Gurgaon",
          type: "Penthouse",
          price: 450,
          location: "Sector 54, Gurgaon",
          bedrooms: 4,
          bathrooms: 4,
          area: 3500,
          image: "https://picsum.photos/seed/gurgaon1/400/300",
          featured: true,
          new: true,
          amenities: ["Parking", "Pool", "Gym", "Security"],
          description:
            "Luxurious penthouse with panoramic city views and premium finishes.",
          coordinates: [28.4329, 77.0994],
        },
        {
          id: 4,
          title: "Modern 2BHK in Koregaon Park",
          type: "Apartment",
          price: 120,
          location: "Koregaon Park, Pune",
          bedrooms: 2,
          bathrooms: 2,
          area: 1100,
          image: "https://picsum.photos/seed/pune1/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Gym"],
          description:
            "Modern apartment in prime location with excellent connectivity.",
          coordinates: [18.5333, 73.8567],
        },
        {
          id: 5,
          title: "Beachfront Villa in Goa",
          type: "Villa",
          price: 380,
          location: "Candolim, Goa",
          bedrooms: 5,
          bathrooms: 4,
          area: 4000,
          image: "https://picsum.photos/seed/goa1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Pool", "Security"],
          description:
            "Stunning beachfront villa with private beach access and infinity pool.",
          coordinates: [15.5455, 73.7658],
        },
        {
          id: 6,
          title: "Compact 1BHK in HSR Layout",
          type: "Apartment",
          price: 65,
          location: "HSR Layout, Bangalore",
          bedrooms: 1,
          bathrooms: 1,
          area: 650,
          image: "https://picsum.photos/seed/bangalore2/400/300",
          featured: false,
          new: true,
          amenities: ["Parking"],
          description:
            "Perfect for singles or couples in prime Bangalore location.",
          coordinates: [12.9135, 77.6385],
        },
        {
          id: 7,
          title: "Beach House in Visakhapatnam",
          type: "House",
          price: 185,
          location: "RK Beach, Visakhapatnam",
          bedrooms: 3,
          bathrooms: 2,
          area: 2000,
          image: "https://picsum.photos/seed/vizag1/400/300",
          featured: true,
          new: true,
          amenities: ["Parking", "Garden", "Security", "Beach Access"],
          description:
            "Modern beach house with stunning Bay of Bengal views and private beach access.",
          coordinates: [17.7246, 83.3014],
        },
        {
          id: 8,
          title: "Sky-High Apartment in Worli",
          type: "Apartment",
          price: 320,
          location: "Worli, Mumbai",
          bedrooms: 3,
          bathrooms: 3,
          area: 1800,
          image: "https://picsum.photos/seed/mumbai2/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Gym", "Pool", "Security"],
          description:
            "Luxury apartment with breathtaking sea views from higher floors.",
          coordinates: [19.017, 72.8196],
        },
        {
          id: 9,
          title: "Garden Villa in Hyderabad",
          type: "Villa",
          price: 280,
          location: "Jubilee Hills, Hyderabad",
          bedrooms: 4,
          bathrooms: 3,
          area: 3200,
          image: "https://picsum.photos/seed/hyderabad1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Pool", "Gym", "Security"],
          description:
            "Beautiful villa with landscaped garden and modern amenities.",
          coordinates: [17.4265, 78.4475],
        },
        {
          id: 10,
          title: "Contemporary Apartment in Noida",
          type: "Apartment",
          price: 95,
          location: "Sector 137, Noida",
          bedrooms: 2,
          bathrooms: 2,
          area: 1200,
          image: "https://picsum.photos/seed/noida1/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Gym", "Security"],
          description:
            "Modern apartment with excellent connectivity to Delhi and NCR.",
          coordinates: [28.5455, 77.3932],
        },
        {
          id: 11,
          title: "Luxury Villa in Chennai",
          type: "Villa",
          price: 350,
          location: "Adyar, Chennai",
          bedrooms: 5,
          bathrooms: 4,
          area: 3800,
          image: "https://picsum.photos/seed/chennai1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Pool", "Gym", "Security"],
          description:
            "Premium villa with private pool and garden in prime Chennai location.",
          coordinates: [13.0067, 80.2575],
        },
        {
          id: 12,
          title: "Studio Apartment in Indiranagar",
          type: "Apartment",
          price: 45,
          location: "Indiranagar, Bangalore",
          bedrooms: 1,
          bathrooms: 1,
          area: 500,
          image: "https://picsum.photos/seed/bangalore3/400/300",
          featured: false,
          new: true,
          amenities: ["Gym"],
          description:
            "Trendy studio apartment in Bangalore's most happening neighborhood.",
          coordinates: [12.9791, 77.6408],
        },
        {
          id: 13,
          title: "Heritage Haveli in Ahmedabad",
          type: "House",
          price: 190,
          location: "Old City, Ahmedabad",
          bedrooms: 4,
          bathrooms: 3,
          area: 2400,
          image: "https://picsum.photos/seed/ahmedabad1/400/300",
          featured: true,
          new: true,
          amenities: ["Parking", "Garden", "Security", "Courtyard"],
          description:
            "Traditional Gujarati haveli with intricate woodwork and modern amenities.",
          coordinates: [23.025, 72.575],
        },
        {
          id: 14,
          title: "Independent House in Jaipur",
          type: "House",
          price: 150,
          location: "Malviya Nagar, Jaipur",
          bedrooms: 3,
          bathrooms: 2,
          area: 2000,
          image: "https://picsum.photos/seed/jaipur1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Security"],
          description:
            "Traditional Rajasthani architecture with modern amenities.",
          coordinates: [26.8525, 75.8096],
        },
        {
          id: 15,
          title: "Premium Villa in Kochi",
          type: "Villa",
          price: 180,
          location: "Edappally, Kochi",
          bedrooms: 4,
          bathrooms: 3,
          area: 2800,
          image: "https://picsum.photos/seed/kochi1/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Pool", "Security"],
          description:
            "Modern villa with backwater access and premium amenities.",
          coordinates: [10.0265, 76.3125],
        },
        {
          id: 16,
          title: "Mountain Lodge in Leh",
          type: "House",
          price: 275,
          location: "Leh, Ladakh",
          bedrooms: 3,
          bathrooms: 2,
          area: 1800,
          image: "https://picsum.photos/seed/leh1/400/300",
          featured: true,
          new: true,
          amenities: [
            "Parking",
            "Garden",
            "Security",
            "Mountain View",
            "Fireplace",
          ],
          description:
            "Traditional Ladakhi architecture with modern amenities and Himalayan views.",
          coordinates: [34.1526, 77.5771],
        },
        {
          id: 17,
          title: "2BHK in Vasant Kunj",
          type: "Apartment",
          price: 110,
          location: "Vasant Kunj, Delhi",
          bedrooms: 2,
          bathrooms: 2,
          area: 1000,
          image: "https://picsum.photos/seed/delhi1/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Gym"],
          description:
            "Well-maintained apartment in South Delhi with green surroundings.",
          coordinates: [28.5486, 77.1609],
        },
        {
          id: 18,
          title: "Farm House in Lonavala",
          type: "Villa",
          price: 250,
          location: "Lonavala, Maharashtra",
          bedrooms: 4,
          bathrooms: 3,
          area: 3500,
          image: "https://picsum.photos/seed/lonavala1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Pool", "Security"],
          description:
            "Weekend getaway farm house with mountain views and pool.",
          coordinates: [18.753, 73.4091],
        },
        {
          id: 19,
          title: "3BHK in Salt Lake",
          type: "Apartment",
          price: 85,
          location: "Salt Lake, Kolkata",
          bedrooms: 3,
          bathrooms: 2,
          area: 1400,
          image: "https://picsum.photos/seed/kolkata2/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Gym", "Security"],
          description:
            "Spacious apartment in planned township with excellent amenities.",
          coordinates: [22.5806, 88.4101],
        },
        {
          id: 20,
          title: "Luxury Villa in Ooty",
          type: "Villa",
          price: 320,
          location: "Ooty, Tamil Nadu",
          bedrooms: 5,
          bathrooms: 4,
          area: 4200,
          image: "https://picsum.photos/seed/ooty1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Pool", "Gym", "Security"],
          description:
            "Hill station villa with tea garden views and premium amenities.",
          coordinates: [11.407, 76.695],
        },
        {
          id: 21,
          title: "1BHK in Andheri",
          type: "Apartment",
          price: 75,
          location: "Andheri East, Mumbai",
          bedrooms: 1,
          bathrooms: 1,
          area: 550,
          image: "https://picsum.photos/seed/mumbai4/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym"],
          description:
            "Compact apartment near airport with excellent connectivity.",
          coordinates: [19.1136, 72.8697],
        },
        {
          id: 22,
          title: "4BHK in Gachibowli",
          type: "Apartment",
          price: 160,
          location: "Gachibowli, Hyderabad",
          bedrooms: 4,
          bathrooms: 3,
          area: 2200,
          image: "https://picsum.photos/seed/hyderabad2/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Pool", "Gym", "Security"],
          description:
            "Premium apartment in IT corridor with world-class amenities.",
          coordinates: [17.4455, 78.348],
        },
        {
          id: 23,
          title: "Heritage Villa in Udaipur",
          type: "Villa",
          price: 280,
          location: "Fateh Sagar, Udaipur",
          bedrooms: 4,
          bathrooms: 3,
          area: 3000,
          image: "https://picsum.photos/seed/udaipur1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Pool", "Security"],
          description:
            "Rajasthani heritage villa with lake view and modern amenities.",
          coordinates: [24.5854, 73.7125],
        },
        {
          id: 24,
          title: "2BHK in Magarpatta",
          type: "Apartment",
          price: 90,
          location: "Magarpatta, Pune",
          bedrooms: 2,
          bathrooms: 2,
          area: 1050,
          image: "https://picsum.photos/seed/pune2/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security"],
          description:
            "Modern township living with all amenities within walking distance.",
          coordinates: [18.5114, 73.9285],
        },
        {
          id: 25,
          title: "Luxury Apartment in South Mumbai",
          type: "Apartment",
          price: 480,
          location: "Cuffe Parade, Mumbai",
          bedrooms: 3,
          bathrooms: 3,
          area: 1700,
          image: "https://picsum.photos/seed/mumbai5/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Pool", "Gym", "Security"],
          description:
            "Ultra-luxury apartment in Mumbai's most prestigious location.",
          coordinates: [18.9381, 72.8127],
        },
        {
          id: 26,
          title: "3BHK in Electronic City",
          type: "Apartment",
          price: 75,
          location: "Electronic City, Bangalore",
          bedrooms: 3,
          bathrooms: 2,
          area: 1300,
          image: "https://picsum.photos/seed/bangalore4/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security"],
          description:
            "Modern apartment in Bangalore's IT hub with excellent connectivity.",
          coordinates: [12.8452, 77.665],
        },
        {
          id: 27,
          title: "Beach House in Varkala",
          type: "Villa",
          price: 220,
          location: "Varkala, Kerala",
          bedrooms: 4,
          bathrooms: 3,
          area: 2900,
          image: "https://picsum.photos/seed/kerala1/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Pool", "Security"],
          description:
            "Stunning beach house with cliff views and private beach access.",
          coordinates: [8.7379, 76.7047],
        },
        {
          id: 28,
          title: "Penthouse in Koramangala",
          type: "Penthouse",
          price: 320,
          location: "Koramangala, Bangalore",
          bedrooms: 4,
          bathrooms: 3,
          area: 2800,
          image: "https://picsum.photos/seed/bangalore5/400/300",
          featured: true,
          new: true,
          amenities: ["Parking", "Pool", "Gym", "Security"],
          description:
            "Exclusive penthouse in Bangalore's most sought-after neighborhood.",
          coordinates: [12.9352, 77.6245],
        },
        {
          id: 29,
          title: "2BHK in Sector 15, Noida",
          type: "Apartment",
          price: 85,
          location: "Sector 15, Noida",
          bedrooms: 2,
          bathrooms: 2,
          area: 1100,
          image: "https://picsum.photos/seed/noida2/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Gym"],
          description: "Well-connected apartment in Noida with metro access.",
          coordinates: [28.5803, 77.3318],
        },
        {
          id: 30,
          title: "Heritage House in Chandni Chowk",
          type: "House",
          price: 180,
          location: "Chandni Chowk, Delhi",
          bedrooms: 3,
          bathrooms: 2,
          area: 1800,
          image: "https://picsum.photos/seed/delhi2/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Security"],
          description: "Historic house in Old Delhi with modern renovations.",
          coordinates: [28.6506, 77.2303],
        },
        {
          id: 31,
          title: "Tech Hub Apartment in Taramani",
          type: "Apartment",
          price: 125,
          location: "Taramani, Chennai",
          bedrooms: 2,
          bathrooms: 2,
          area: 1100,
          image: "https://picsum.photos/seed/chennai2/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security", "High-speed Internet"],
          description:
            "Modern apartment in Chennai's IT corridor with excellent connectivity.",
          coordinates: [12.9798, 80.2425],
        },
        {
          id: 32,
          title: "Farm House in Kodaikanal",
          type: "Villa",
          price: 290,
          location: "Kodaikanal, Tamil Nadu",
          bedrooms: 4,
          bathrooms: 3,
          area: 3300,
          image: "https://picsum.photos/seed/kodaikanal1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Pool", "Security"],
          description:
            "Hill station retreat with stunning valley views and modern amenities.",
          coordinates: [10.2381, 77.4892],
        },
        {
          id: 33,
          title: "2BHK in Powai",
          type: "Apartment",
          price: 130,
          location: "Powai, Mumbai",
          bedrooms: 2,
          bathrooms: 2,
          area: 1000,
          image: "https://picsum.photos/seed/mumbai6/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Pool", "Security"],
          description:
            "Modern apartment overlooking Powai Lake with excellent amenities.",
          coordinates: [19.1194, 72.9063],
        },
        {
          id: 34,
          title: "Independent House in Lucknow",
          type: "House",
          price: 120,
          location: "Gomti Nagar, Lucknow",
          bedrooms: 3,
          bathrooms: 2,
          area: 1900,
          image: "https://picsum.photos/seed/lucknow1/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Security"],
          description:
            "Spacious house in Lucknow's planned township with modern amenities.",
          coordinates: [26.8467, 80.9462],
        },
        {
          id: 35,
          title: "3BHK in Marathahalli",
          type: "Apartment",
          price: 70,
          location: "Marathahalli, Bangalore",
          bedrooms: 3,
          bathrooms: 2,
          area: 1200,
          image: "https://picsum.photos/seed/bangalore6/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security"],
          description:
            "Affordable 3BHK in Bangalore with excellent connectivity to IT hubs.",
          coordinates: [12.9569, 77.7011],
        },
        {
          id: 36,
          title: "Beach Villa in Pondicherry",
          type: "Villa",
          price: 260,
          location: "Auroville, Pondicherry",
          bedrooms: 4,
          bathrooms: 3,
          area: 3100,
          image: "https://picsum.photos/seed/pondicherry1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Pool", "Security"],
          description:
            "Serene beach villa with French architecture and modern amenities.",
          coordinates: [12.0068, 79.8556],
        },
        {
          id: 37,
          title: "2BHK in Dwarka",
          type: "Apartment",
          price: 95,
          location: "Dwarka, Delhi",
          bedrooms: 2,
          bathrooms: 2,
          area: 1050,
          image: "https://picsum.photos/seed/delhi3/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Gym", "Security"],
          description:
            "Well-planned apartment in Delhi's largest residential colony.",
          coordinates: [28.5712, 77.069],
        },
        {
          id: 38,
          title: "Luxury House in Golf Course Road",
          type: "House",
          price: 420,
          location: "Golf Course Road, Gurgaon",
          bedrooms: 5,
          bathrooms: 4,
          area: 4500,
          image: "https://picsum.photos/seed/gurgaon3/400/300",
          featured: true,
          new: true,
          amenities: ["Parking", "Pool", "Gym", "Security"],
          description: "Ultra-luxury house on Gurgaon's most prestigious road.",
          coordinates: [28.4472, 77.0955],
        },
        {
          id: 39,
          title: "1BHK in Kammanahalli",
          type: "Apartment",
          price: 40,
          location: "Kammanahalli, Bangalore",
          bedrooms: 1,
          bathrooms: 1,
          area: 480,
          image: "https://picsum.photos/seed/bangalore7/400/300",
          featured: false,
          new: true,
          amenities: ["Parking"],
          description:
            "Affordable studio apartment in Bangalore's vibrant neighborhood.",
          coordinates: [13.0115, 77.6398],
        },
        {
          id: 40,
          title: "3BHK in Wakad",
          type: "Apartment",
          price: 85,
          location: "Wakad, Pune",
          bedrooms: 3,
          bathrooms: 2,
          area: 1250,
          image: "https://picsum.photos/seed/pune3/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Gym", "Security"],
          description:
            "Modern apartment in Pune's rapidly developing residential area.",
          coordinates: [18.5999, 73.7673],
        },
        {
          id: 41,
          title: "Waterfront Villa in Alibag",
          type: "Villa",
          price: 380,
          location: "Alibag, Maharashtra",
          bedrooms: 4,
          bathrooms: 3,
          area: 3200,
          image: "https://picsum.photos/seed/alibag1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Pool", "Gym", "Security", "Private Beach"],
          description:
            "Exclusive waterfront villa with private beach access and stunning sea views.",
          coordinates: [18.6414, 72.8722],
        },
        {
          id: 42,
          title: "Corporate Suite in Bandra Kurla Complex",
          type: "Apartment",
          price: 290,
          location: "Bandra Kurla Complex, Mumbai",
          bedrooms: 2,
          bathrooms: 2,
          area: 1200,
          image: "https://picsum.photos/seed/bkc1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security", "Business Center"],
          description:
            "Premium corporate suite in Mumbai's business district with modern amenities.",
          coordinates: [19.0667, 72.8673],
        },
        {
          id: 43,
          title: "Heritage Villa in Mysore",
          type: "Villa",
          price: 210,
          location: "Saraswathipuram, Mysore",
          bedrooms: 4,
          bathrooms: 3,
          area: 2800,
          image: "https://picsum.photos/seed/mysore1/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Garden", "Security"],
          description:
            "Traditional Mysore-style villa with modern amenities and beautiful garden.",
          coordinates: [12.3118, 76.6454],
        },
        {
          id: 44,
          title: "Waterfront Villa in Kochi",
          type: "Villa",
          price: 295,
          location: "Fort Kochi, Kerala",
          bedrooms: 4,
          bathrooms: 3,
          area: 3000,
          image: "https://picsum.photos/seed/kochi2/400/300",
          featured: true,
          new: true,
          amenities: [
            "Parking",
            "Pool",
            "Garden",
            "Security",
            "Waterfront Access",
          ],
          description:
            "Historic villa with Dutch architecture and modern amenities on the backwaters.",
          coordinates: [9.9667, 76.2333],
        },
        {
          id: 45,
          title: "Lake View Penthouse in Noida",
          type: "Penthouse",
          price: 340,
          location: "Sector 44, Noida",
          bedrooms: 4,
          bathrooms: 3,
          area: 3000,
          image: "https://picsum.photos/seed/noida3/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Pool", "Gym", "Security", "Terrace Garden"],
          description:
            "Luxurious penthouse with panoramic lake views and premium amenities.",
          coordinates: [28.5672, 77.3526],
        },
        {
          id: 46,
          title: "Artist Loft in Lajpat Nagar",
          type: "Apartment",
          price: 115,
          location: "Lajpat Nagar, Delhi",
          bedrooms: 2,
          bathrooms: 1,
          area: 900,
          image: "https://picsum.photos/seed/lajpat1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Security", "Art Studio"],
          description:
            "Creative loft space perfect for artists with high ceilings and natural light.",
          coordinates: [28.5674, 77.2443],
        },
        {
          id: 47,
          title: "Mountain Retreat in Manali",
          type: "Villa",
          price: 265,
          location: "Old Manali, Himachal Pradesh",
          bedrooms: 3,
          bathrooms: 2,
          area: 2200,
          image: "https://picsum.photos/seed/manali1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Garden", "Security", "Fireplace"],
          description:
            "Cozy mountain retreat with stunning views of the Himalayas and modern amenities.",
          coordinates: [32.2432, 77.1882],
        },
        {
          id: 48,
          title: "Golf Course Villa in Chandigarh",
          type: "Villa",
          price: 310,
          location: "Sector 6, Panchkula",
          bedrooms: 4,
          bathrooms: 3,
          area: 3400,
          image: "https://picsum.photos/seed/chandigarh1/400/300",
          featured: false,
          new: true,
          amenities: [
            "Parking",
            "Pool",
            "Gym",
            "Security",
            "Golf Course Access",
          ],
          description:
            "Premium villa overlooking the golf course with luxury amenities.",
          coordinates: [30.6942, 76.8606],
        },
        {
          id: 49,
          title: "Smart Home in Whitefield",
          type: "Apartment",
          price: 165,
          location: "Whitefield, Bangalore",
          bedrooms: 3,
          bathrooms: 2,
          area: 1600,
          image: "https://picsum.photos/seed/smarthome1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security", "Smart Home Features"],
          description:
            "Fully automated smart home with voice-controlled features and modern amenities.",
          coordinates: [12.9698, 77.7499],
        },
        {
          id: 50,
          title: "Beachfront Cottage in Kovalam",
          type: "House",
          price: 195,
          location: "Kovalam, Kerala",
          bedrooms: 3,
          bathrooms: 2,
          area: 1800,
          image: "https://picsum.photos/seed/kovalam1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Garden", "Security", "Beach Access"],
          description:
            "Charming beachfront cottage with direct access to pristine Kovalam beach.",
          coordinates: [8.3832, 76.9789],
        },
        {
          id: 51,
          title: "Luxury Farmhouse in Karjat",
          type: "Villa",
          price: 225,
          location: "Karjat, Maharashtra",
          bedrooms: 4,
          bathrooms: 3,
          area: 3500,
          image: "https://picsum.photos/seed/karjat1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Pool", "Garden", "Security"],
          description:
            "Spacious farmhouse with organic garden and weekend getaway amenities.",
          coordinates: [18.9136, 73.329],
        },
        {
          id: 52,
          title: "Riverside Apartment in Trivandrum",
          type: "Apartment",
          price: 105,
          location: "Kowdiar, Trivandrum",
          bedrooms: 2,
          bathrooms: 2,
          area: 1100,
          image: "https://picsum.photos/seed/trivandrum1/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Gym", "Security", "River View"],
          description:
            "Scenic riverside apartment with beautiful views and modern amenities.",
          coordinates: [8.5241, 76.9366],
        },
        {
          id: 53,
          title: "Heritage Haveli in Jaipur",
          type: "House",
          price: 280,
          location: "C-Scheme, Jaipur",
          bedrooms: 5,
          bathrooms: 4,
          area: 4000,
          image: "https://picsum.photos/seed/haveli1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Pool", "Garden", "Security", "Courtyard"],
          description:
            "Magnificent heritage haveli with traditional Rajasthani architecture and modern amenities.",
          coordinates: [26.9124, 75.7873],
        },
        {
          id: 54,
          title: "Tech Park Apartment in Hyderabad",
          type: "Apartment",
          price: 125,
          location: "HITEC City, Hyderabad",
          bedrooms: 2,
          bathrooms: 2,
          area: 1150,
          image: "https://picsum.photos/seed/hitech1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security", "Business Center"],
          description:
            "Modern apartment in Hyderabad's tech corridor with excellent connectivity.",
          coordinates: [17.4484, 78.3915],
        },
        {
          id: 55,
          title: "Hill Station Cottage in Darjeeling",
          type: "House",
          price: 185,
          location: "Ghoom, Darjeeling",
          bedrooms: 3,
          bathrooms: 2,
          area: 1600,
          image: "https://picsum.photos/seed/darjeeling1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Garden", "Security", "Fireplace"],
          description:
            "Cozy hill station cottage with mountain views and tea garden access.",
          coordinates: [27.041, 88.2663],
        },
        {
          id: 56,
          title: "Luxury Loft in Connaught Place",
          type: "Apartment",
          price: 310,
          location: "Connaught Place, Delhi",
          bedrooms: 2,
          bathrooms: 2,
          area: 1300,
          image: "https://picsum.photos/seed/cp1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security", "Rooftop Terrace"],
          description:
            "Stylish loft in Delhi's premium commercial district with city views.",
          coordinates: [28.6304, 77.2177],
        },
        {
          id: 57,
          title: "Backwater Villa in Alleppey",
          type: "Villa",
          price: 240,
          location: "Alleppey, Kerala",
          bedrooms: 4,
          bathrooms: 3,
          area: 2600,
          image: "https://picsum.photos/seed/alleppey1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Pool", "Garden", "Security", "Boat Dock"],
          description:
            "Serene backwater villa with private boat dock and stunning water views.",
          coordinates: [9.4981, 76.3388],
        },
        {
          id: 58,
          title: "Corporate Housing in Gachibowli",
          type: "Apartment",
          price: 145,
          location: "Gachibowli, Hyderabad",
          bedrooms: 3,
          bathrooms: 2,
          area: 1500,
          image: "https://picsum.photos/seed/corporate1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security", "Furnished"],
          description:
            "Fully furnished corporate housing with premium amenities in IT hub.",
          coordinates: [17.4455, 78.348],
        },
        {
          id: 59,
          title: "Eco-Friendly Villa in Coorg",
          type: "Villa",
          price: 215,
          location: "Madikeri, Coorg",
          bedrooms: 3,
          bathrooms: 2,
          area: 2400,
          image: "https://picsum.photos/seed/coorg1/400/300",
          featured: false,
          new: false,
          amenities: ["Parking", "Garden", "Security", "Solar Panels"],
          description:
            "Sustainable eco-friendly villa with coffee plantation views and green amenities.",
          coordinates: [12.4244, 75.7395],
        },
        {
          id: 60,
          title: "Luxury Studio in Koregaon Park",
          type: "Apartment",
          price: 85,
          location: "Koregaon Park, Pune",
          bedrooms: 1,
          bathrooms: 1,
          area: 650,
          image: "https://picsum.photos/seed/studio1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security", "Rooftop Pool"],
          description:
            "Premium studio apartment in Pune's upscale neighborhood with luxury amenities.",
          coordinates: [18.5333, 73.8567],
        },
        {
          id: 61,
          title: "Heritage Bungalow in Shimla",
          type: "House",
          price: 295,
          location: "Mall Road, Shimla",
          bedrooms: 4,
          bathrooms: 3,
          area: 2800,
          image: "https://picsum.photos/seed/shimla1/400/300",
          featured: true,
          new: false,
          amenities: [
            "Parking",
            "Garden",
            "Security",
            "Fireplace",
            "Mountain View",
          ],
          description:
            "Colonial-era heritage bungalow with panoramic mountain views and modern amenities.",
          coordinates: [31.1048, 77.1734],
        },
        {
          id: 62,
          title: "Beachfront Resort in Andaman",
          type: "Villa",
          price: 320,
          location: "Port Blair, Andaman Islands",
          bedrooms: 4,
          bathrooms: 3,
          area: 2800,
          image: "https://picsum.photos/seed/andaman1/400/300",
          featured: true,
          new: true,
          amenities: [
            "Parking",
            "Pool",
            "Security",
            "Beach Access",
            "Water Sports",
          ],
          description:
            "Exclusive beachfront villa with pristine white sand beach and coral reef access.",
          coordinates: [11.6234, 92.7265],
        },
        {
          id: 63,
          title: "Beach House in Gokarna",
          type: "House",
          price: 205,
          location: "Kudle Beach, Gokarna",
          bedrooms: 3,
          bathrooms: 2,
          area: 1900,
          image: "https://picsum.photos/seed/gokarna1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Garden", "Security", "Beach Access"],
          description:
            "Tranquil beach house with direct access to pristine Kudle Beach.",
          coordinates: [14.5455, 74.3169],
        },
        {
          id: 64,
          title: "Luxury Penthouse in Bandra",
          type: "Penthouse",
          price: 420,
          location: "Bandra West, Mumbai",
          bedrooms: 4,
          bathrooms: 3,
          area: 3200,
          image: "https://picsum.photos/seed/penthouse1/400/300",
          featured: false,
          new: true,
          amenities: [
            "Parking",
            "Pool",
            "Gym",
            "Security",
            "Terrace Garden",
            "Sea View",
          ],
          description:
            "Exclusive penthouse with panoramic sea views and premium amenities in Bandra.",
          coordinates: [19.0596, 72.8295],
        },
        {
          id: 65,
          title: "Mountain Villa in Mussoorie",
          type: "Villa",
          price: 255,
          location: "Landour, Mussoorie",
          bedrooms: 4,
          bathrooms: 3,
          area: 3000,
          image: "https://picsum.photos/seed/mussoorie1/400/300",
          featured: true,
          new: false,
          amenities: [
            "Parking",
            "Garden",
            "Security",
            "Fireplace",
            "Mountain View",
          ],
          description:
            "Luxurious mountain villa with stunning Himalayan views and modern amenities.",
          coordinates: [30.459, 78.0667],
        },
        {
          id: 66,
          title: "Heritage Property in Varanasi",
          type: "House",
          price: 165,
          location: "Assi Ghat, Varanasi",
          bedrooms: 3,
          bathrooms: 2,
          area: 1900,
          image: "https://picsum.photos/seed/varanasi1/400/300",
          featured: true,
          new: true,
          amenities: ["Parking", "Garden", "Security", "River View"],
          description:
            "Traditional house near the Ganges with spiritual ambiance and modern comforts.",
          coordinates: [25.292, 82.938],
        },
        {
          id: 67,
          title: "Lake House in Nainital",
          type: "House",
          price: 275,
          location: "Mallital, Nainital",
          bedrooms: 3,
          bathrooms: 2,
          area: 2100,
          image: "https://picsum.photos/seed/nainital1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Garden", "Security", "Lake View"],
          description:
            "Charming lake house with breathtaking views of Naini Lake and mountains.",
          coordinates: [29.3919, 79.4532],
        },
        {
          id: 68,
          title: "Luxury Apartment in Jubilee Hills",
          type: "Apartment",
          price: 195,
          location: "Jubilee Hills, Hyderabad",
          bedrooms: 3,
          bathrooms: 2,
          area: 1600,
          image: "https://picsum.photos/seed/jubilee1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Pool", "Gym", "Security"],
          description:
            "Premium apartment in Hyderabad's upscale residential area with luxury amenities.",
          coordinates: [17.4265, 78.4475],
        },
        {
          id: 69,
          title: "Smart Apartment in Kharadi",
          type: "Apartment",
          price: 115,
          location: "Kharadi, Pune",
          bedrooms: 2,
          bathrooms: 2,
          area: 1050,
          image: "https://picsum.photos/seed/kharadi1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security", "Smart Home Features"],
          description:
            "Fully automated smart home with voice-controlled features in Pune's IT hub.",
          coordinates: [18.553, 73.9384],
        },
        {
          id: 70,
          title: "Corporate Suite in Cyber City",
          type: "Apartment",
          price: 165,
          location: "Cyber City, Gurgaon",
          bedrooms: 2,
          bathrooms: 2,
          area: 1200,
          image: "https://picsum.photos/seed/cyber1/400/300",
          featured: false,
          new: true,
          amenities: [
            "Parking",
            "Gym",
            "Security",
            "Business Center",
            "Furnished",
          ],
          description:
            "Premium corporate suite in Gurgaon's business hub with modern amenities.",
          coordinates: [28.4939, 77.089],
        },
        {
          id: 71,
          title: "Beach Villa in Daman",
          type: "Villa",
          price: 245,
          location: "Jampore Beach, Daman",
          bedrooms: 4,
          bathrooms: 3,
          area: 2800,
          image: "https://picsum.photos/seed/daman1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Pool", "Garden", "Security", "Beach Access"],
          description:
            "Luxurious beach villa with private access to pristine Jampore Beach.",
          coordinates: [20.4283, 72.8397],
        },
        {
          id: 72,
          title: "Student Housing in Manipal",
          type: "Apartment",
          price: 65,
          location: "Manipal, Karnataka",
          bedrooms: 2,
          bathrooms: 1,
          area: 800,
          image: "https://picsum.photos/seed/student1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Security", "Study Area"],
          description:
            "Affordable student housing near Manipal University with essential amenities.",
          coordinates: [13.353, 74.7933],
        },
        {
          id: 73,
          title: "Heritage Villa in Pondicherry",
          type: "Villa",
          price: 285,
          location: "French Quarter, Pondicherry",
          bedrooms: 4,
          bathrooms: 3,
          area: 2900,
          image: "https://picsum.photos/seed/french1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Garden", "Security", "Courtyard"],
          description:
            "Elegant French colonial villa with traditional architecture and modern amenities.",
          coordinates: [11.9416, 79.8083],
        },
        {
          id: 74,
          title: "Tech Hub Apartment in Hinjewadi",
          type: "Apartment",
          price: 105,
          location: "Hinjewadi, Pune",
          bedrooms: 2,
          bathrooms: 2,
          area: 1100,
          image: "https://picsum.photos/seed/hinjewadi2/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security", "High-speed Internet"],
          description:
            "Modern apartment in Pune's IT hub with excellent connectivity to tech parks.",
          coordinates: [18.5926, 73.7399],
        },
        {
          id: 75,
          title: "Mountain Retreat in Rishikesh",
          type: "Villa",
          price: 195,
          location: "Tapovan, Rishikesh",
          bedrooms: 3,
          bathrooms: 2,
          area: 2000,
          image: "https://picsum.photos/seed/rishikesh1/400/300",
          featured: true,
          new: false,
          amenities: [
            "Parking",
            "Garden",
            "Security",
            "Yoga Deck",
            "River View",
          ],
          description:
            "Peaceful mountain retreat with Ganges river view and yoga facilities.",
          coordinates: [30.0869, 78.2676],
        },
        {
          id: 76,
          title: "Luxury Apartment in South Extension",
          type: "Apartment",
          price: 215,
          location: "South Extension, Delhi",
          bedrooms: 3,
          bathrooms: 2,
          area: 1500,
          image: "https://picsum.photos/seed/southex1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security", "Shopping Nearby"],
          description:
            "Premium apartment in Delhi's upscale shopping district with luxury amenities.",
          coordinates: [28.5696, 77.2151],
        },
        {
          id: 77,
          title: "Beach House in Puri",
          type: "House",
          price: 175,
          location: "Swargadwar, Puri",
          bedrooms: 3,
          bathrooms: 2,
          area: 1800,
          image: "https://picsum.photos/seed/puri1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Garden", "Security", "Beach Access"],
          description:
            "Cozy beach house with direct access to the Bay of Bengal and temple views.",
          coordinates: [19.8135, 85.8313],
        },
        {
          id: 78,
          title: "Corporate Housing in Whitefield",
          type: "Apartment",
          price: 155,
          location: "Whitefield, Bangalore",
          bedrooms: 3,
          bathrooms: 2,
          area: 1400,
          image: "https://picsum.photos/seed/whitefield1/400/300",
          featured: false,
          new: true,
          amenities: [
            "Parking",
            "Gym",
            "Security",
            "Furnished",
            "Business Center",
          ],
          description:
            "Fully furnished corporate housing in Bangalore's IT hub with premium amenities.",
          coordinates: [12.9698, 77.7499],
        },
        {
          id: 79,
          title: "Tea Garden Villa in Ooty",
          type: "Villa",
          price: 265,
          location: "Coonoor, Ooty",
          bedrooms: 4,
          bathrooms: 3,
          area: 3000,
          image: "https://picsum.photos/seed/ooty2/400/300",
          featured: true,
          new: false,
          amenities: [
            "Parking",
            "Garden",
            "Security",
            "Tea Garden View",
            "Fireplace",
          ],
          description:
            "Luxurious hill station villa surrounded by tea gardens with mountain views.",
          coordinates: [11.349, 76.8231],
        },
        {
          id: 80,
          title: "Luxury Studio in Koramangala",
          type: "Apartment",
          price: 95,
          location: "Koramangala, Bangalore",
          bedrooms: 1,
          bathrooms: 1,
          area: 600,
          image: "https://picsum.photos/seed/koramangala1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security", "Rooftop Lounge"],
          description:
            "Premium studio apartment in Bangalore's trendy neighborhood with luxury amenities.",
          coordinates: [12.9352, 77.6245],
        },
        {
          id: 81,
          title: "Heritage Bungalow in Kolkata",
          type: "House",
          price: 305,
          location: "Ballygunge, Kolkata",
          bedrooms: 5,
          bathrooms: 4,
          area: 3800,
          image: "https://picsum.photos/seed/ballygunge1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Garden", "Security", "Courtyard"],
          description:
            "Magnificent heritage bungalow with colonial architecture and modern amenities.",
          coordinates: [22.5279, 88.3639],
        },
        {
          id: 82,
          title: "Tech Hub Apartment in HSR Layout",
          type: "Apartment",
          price: 115,
          location: "HSR Layout, Bangalore",
          bedrooms: 2,
          bathrooms: 2,
          area: 1050,
          image: "https://picsum.photos/seed/hsr1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security", "High-speed Internet"],
          description:
            "Modern apartment in Bangalore's tech corridor with excellent connectivity.",
          coordinates: [12.9135, 77.6385],
        },
        {
          id: 83,
          title: "Beach Villa in Mahabalipuram",
          type: "Villa",
          price: 235,
          location: "Shore Temple, Mahabalipuram",
          bedrooms: 4,
          bathrooms: 3,
          area: 2700,
          image: "https://picsum.photos/seed/mahabalipuram1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Pool", "Garden", "Security", "Beach Access"],
          description:
            "Luxurious beach villa with views of ancient temples and the Bay of Bengal.",
          coordinates: [12.6169, 80.193],
        },
        {
          id: 84,
          title: "Luxury Penthouse in Gurgaon",
          type: "Penthouse",
          price: 410,
          location: "Sector 29, Gurgaon",
          bedrooms: 4,
          bathrooms: 3,
          area: 3400,
          image: "https://picsum.photos/seed/gurgaon4/400/300",
          featured: false,
          new: true,
          amenities: [
            "Parking",
            "Pool",
            "Gym",
            "Security",
            "Terrace Garden",
            "City View",
          ],
          description:
            "Exclusive penthouse with panoramic city views and premium amenities in Gurgaon.",
          coordinates: [28.4595, 77.0266],
        },
        {
          id: 85,
          title: "Desert Resort in Jaisalmer",
          type: "Villa",
          price: 265,
          location: "Sam Sand Dunes, Jaisalmer",
          bedrooms: 4,
          bathrooms: 3,
          area: 2500,
          image: "https://picsum.photos/seed/jaisalmer1/400/300",
          featured: true,
          new: true,
          amenities: ["Parking", "Pool", "Garden", "Security", "Desert Safari"],
          description:
            "Luxury desert resort with traditional Rajasthani architecture and camel safari experiences.",
          coordinates: [26.9234, 70.9234],
        },
        {
          id: 86,
          title: "Urban Apartment in Janakpuri",
          type: "Apartment",
          price: 135,
          location: "Janakpuri, Delhi",
          bedrooms: 3,
          bathrooms: 2,
          area: 1400,
          image: "https://picsum.photos/seed/janakpuri1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security", "Metro Nearby"],
          description:
            "Modern urban apartment in West Delhi with excellent metro connectivity.",
          coordinates: [28.6219, 77.091],
        },
        {
          id: 87,
          title: "Lake House in Udaipur",
          type: "House",
          price: 295,
          location: "Lake Pichola, Udaipur",
          bedrooms: 4,
          bathrooms: 3,
          area: 2600,
          image: "https://picsum.photos/seed/pichola1/400/300",
          featured: true,
          new: false,
          amenities: [
            "Parking",
            "Garden",
            "Security",
            "Lake View",
            "Boat Access",
          ],
          description:
            "Stunning lake house with panoramic views of Lake Pichola and City Palace.",
          coordinates: [24.576, 73.6818],
        },
        {
          id: 88,
          title: "Luxury Apartment in Banjara Hills",
          type: "Apartment",
          price: 205,
          location: "Banjara Hills, Hyderabad",
          bedrooms: 3,
          bathrooms: 2,
          area: 1700,
          image: "https://picsum.photos/seed/banjara1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Pool", "Gym", "Security"],
          description:
            "Premium apartment in Hyderabad's upscale residential area with luxury amenities.",
          coordinates: [17.4165, 78.4366],
        },
        {
          id: 89,
          title: "Tea Garden Bungalow in Darjeeling",
          type: "House",
          price: 255,
          location: "Ghoom, Darjeeling",
          bedrooms: 4,
          bathrooms: 3,
          area: 2800,
          image: "https://picsum.photos/seed/darjeeling2/400/300",
          featured: true,
          new: false,
          amenities: [
            "Parking",
            "Garden",
            "Security",
            "Tea Garden View",
            "Fireplace",
          ],
          description:
            "Scenic bungalow surrounded by lush tea gardens with Himalayan mountain views.",
          coordinates: [27.041, 88.2663],
        },
        {
          id: 90,
          title: "Corporate Suite in Magarpatta",
          type: "Apartment",
          price: 145,
          location: "Magarpatta, Pune",
          bedrooms: 2,
          bathrooms: 2,
          area: 1100,
          image: "https://picsum.photos/seed/magarpatta1/400/300",
          featured: false,
          new: true,
          amenities: [
            "Parking",
            "Gym",
            "Security",
            "Furnished",
            "Business Center",
          ],
          description:
            "Fully furnished corporate suite in Pune's well-planned township with modern amenities.",
          coordinates: [18.5114, 73.9285],
        },
        {
          id: 91,
          title: "Beach Villa in Diu",
          type: "Villa",
          price: 215,
          location: "Nagoa Beach, Diu",
          bedrooms: 3,
          bathrooms: 2,
          area: 2400,
          image: "https://picsum.photos/seed/diu1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Pool", "Garden", "Security", "Beach Access"],
          description:
            "Serene beach villa with private access to pristine Nagoa Beach.",
          coordinates: [20.7143, 70.9832],
        },
        {
          id: 92,
          title: "Student Housing in Vellore",
          type: "Apartment",
          price: 55,
          location: "Vellore, Tamil Nadu",
          bedrooms: 2,
          bathrooms: 1,
          area: 750,
          image: "https://picsum.photos/seed/vellore1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Security", "Study Area"],
          description:
            "Affordable student housing near VIT University with essential amenities.",
          coordinates: [12.9165, 79.1325],
        },
        {
          id: 93,
          title: "Heritage Villa in Chettinad",
          type: "Villa",
          price: 275,
          location: "Karaikudi, Tamil Nadu",
          bedrooms: 5,
          bathrooms: 4,
          area: 3600,
          image: "https://picsum.photos/seed/chettinad1/400/300",
          featured: true,
          new: false,
          amenities: ["Parking", "Garden", "Security", "Courtyard"],
          description:
            "Magnificent heritage villa with traditional Chettinad architecture and modern amenities.",
          coordinates: [10.0756, 78.7805],
        },
        {
          id: 94,
          title: "Tech Hub Apartment in Marathahalli",
          type: "Apartment",
          price: 95,
          location: "Marathahalli, Bangalore",
          bedrooms: 2,
          bathrooms: 2,
          area: 1000,
          image: "https://picsum.photos/seed/marathahalli1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Gym", "Security", "High-speed Internet"],
          description:
            "Modern apartment in Bangalore's IT corridor with excellent connectivity to tech parks.",
          coordinates: [12.9569, 77.7011],
        },
        {
          id: 95,
          title: "Mountain Retreat in Munnar",
          type: "Villa",
          price: 225,
          location: "Munnar, Kerala",
          bedrooms: 3,
          bathrooms: 2,
          area: 2200,
          image: "https://picsum.photos/seed/munnar2/400/300",
          featured: true,
          new: false,
          amenities: [
            "Parking",
            "Garden",
            "Security",
            "Mountain View",
            "Tea Garden Access",
          ],
          description:
            "Peaceful mountain retreat with tea garden views and modern amenities.",
          coordinates: [10.0889, 77.0595],
        },
        {
          id: 96,
          title: "Luxury Apartment in Lutyens' Delhi",
          type: "Apartment",
          price: 425,
          location: "Lutyens' Delhi, New Delhi",
          bedrooms: 3,
          bathrooms: 3,
          area: 2000,
          image: "https://picsum.photos/seed/lutyens1/400/300",
          featured: false,
          new: true,
          amenities: ["Parking", "Pool", "Gym", "Security", "Concierge"],
          description:
            "Ultra-luxury apartment in Delhi's most prestigious area with premium amenities.",
          coordinates: [28.6139, 77.209],
        },
        {
          id: 97,
          title: "Mountain Retreat in Gangtok",
          type: "Villa",
          price: 235,
          location: "Rumtek, Gangtok",
          bedrooms: 3,
          bathrooms: 2,
          area: 2100,
          image: "https://picsum.photos/seed/gangtok1/400/300",
          features: [
            "Parking",
            "Garden",
            "Security",
            "Mountain View",
            "Monastery View",
          ],
          description:
            "Serene mountain villa with panoramic Kanchenjunga views and Buddhist monastery nearby.",
          coordinates: [27.3389, 88.6065],
        },
        {
          id: 98,
          title: "Corporate Housing in HITEC City",
          type: "Apartment",
          price: 165,
          location: "HITEC City, Hyderabad",
          bedrooms: 3,
          bathrooms: 2,
          area: 1500,
          image: "https://picsum.photos/seed/hitech2/400/300",
          featured: false,
          new: true,
          amenities: [
            "Parking",
            "Gym",
            "Security",
            "Furnished",
            "Business Center",
          ],
          description:
            "Fully furnished corporate housing in Hyderabad's tech hub with premium amenities.",
          coordinates: [17.4484, 78.3915],
        },
        {
          id: 99,
          title: "Tea Garden Villa in Coonoor",
          type: "Villa",
          price: 255,
          location: "Coonoor, Tamil Nadu",
          bedrooms: 4,
          bathrooms: 3,
          area: 2900,
          image: "https://picsum.photos/seed/coonoor1/400/300",
          featured: true,
          new: false,
          amenities: [
            "Parking",
            "Garden",
            "Security",
            "Tea Garden View",
            "Mountain View",
          ],
          description:
            "Luxurious hill station villa surrounded by tea gardens with Nilgiri mountain views.",
          coordinates: [11.349, 76.8231],
        },
        {
          id: 100,
          title: "Luxury Penthouse in Worli",
          type: "Penthouse",
          price: 450,
          location: "Worli, Mumbai",
          bedrooms: 4,
          bathrooms: 3,
          area: 3500,
          image: "https://picsum.photos/seed/worli1/400/300",
          featured: true,
          new: true,
          amenities: [
            "Parking",
            "Pool",
            "Gym",
            "Security",
            "Terrace Garden",
            "Sea View",
          ],
          description:
            "Exclusive penthouse with panoramic sea views and premium amenities in Worli.",
          coordinates: [19.017, 72.8196],
        },
      ];

      // Agents data
      const agents = [
        {
          id: 1,
          name: "Rajesh Sharma",
          experience: "15 years",
          specialty: "Luxury Properties",
          image: "https://picsum.photos/seed/agent1/200/200",
          phone: "+91 98765 43210",
          email: "rajesh@propertyhub.in",
          rating: 4.8,
          properties: 125,
        },
        {
          id: 2,
          name: "Priya Nair",
          experience: "10 years",
          specialty: "Commercial Properties",
          image: "https://picsum.photos/seed/agent2/200/200",
          phone: "+91 98765 43211",
          email: "priya@propertyhub.in",
          rating: 4.7,
          properties: 98,
        },
        {
          id: 3,
          name: "Amit Patel",
          experience: "12 years",
          specialty: "Residential Properties",
          image: "https://picsum.photos/seed/agent3/200/200",
          phone: "+91 98765 43212",
          email: "amit@propertyhub.in",
          rating: 4.9,
          properties: 156,
        },
        {
          id: 4,
          name: "Sneha Reddy",
          experience: "8 years",
          specialty: "Investment Properties",
          image: "https://picsum.photos/seed/agent4/200/200",
          phone: "+91 98765 43213",
          email: "sneha@propertyhub.in",
          rating: 4.6,
          properties: 87,
        },
        {
          id: 5,
          name: "Vikram Singh",
          experience: "20 years",
          specialty: "Premium Villas",
          image: "https://picsum.photos/seed/agent5/200/200",
          phone: "+91 98765 43214",
          email: "vikram@propertyhub.in",
          rating: 4.9,
          properties: 203,
        },
        {
          id: 6,
          name: "Anjali Gupta",
          experience: "6 years",
          specialty: "First-time Buyers",
          image: "https://picsum.photos/seed/agent6/200/200",
          phone: "+91 98765 43215",
          email: "anjali@propertyhub.in",
          rating: 4.7,
          properties: 64,
        },
      ];

      // Global variables
      let filteredProperties = [];
      let buyFilteredProperties = [];
      let rentFilteredProperties = [];
      let favorites = new Set();
      let comparisonList = [];
      let savedSearches = [];
      let viewMode = "grid";
      let buyViewMode = "grid";
      let rentViewMode = "grid";
      let selectedBedrooms = "any";
      let isDarkMode = false;
      let currentUser = null;
      let currentPage = "home";
      let propertyMap = null;
      let notificationTimeout = null;
      let homePageOffset = 0;
      let buyPageOffset = 0;
      let rentPageOffset = 0;
      const propertiesPerPage = 10;
      let isLoading = false;

      // Initialize the page
      document.addEventListener("DOMContentLoaded", () => {
        initializePages();
        updateFavoriteCount();
        loadUserData();
        renderAgents();
        initializeMap();
      });

      // Initialize pages with pagination
      function initializePages() {
        // Initialize home page with first 10 properties
        filteredProperties = properties.slice(0, propertiesPerPage);
        renderProperties();

        // Initialize buy page
        buyFilteredProperties = properties
          .filter((p) => p.price > 50)
          .slice(0, propertiesPerPage);
        renderBuyProperties();

        // Initialize rent page
        rentFilteredProperties = properties
          .filter((p) => p.price < 150)
          .slice(0, propertiesPerPage);
        renderRentProperties();
      }

      // Initialize map
      function initializeMap() {
        // This would initialize a map in a real application
        // For now, we'll just create a placeholder
      }

      // Load user data from localStorage
      function loadUserData() {
        const userData = localStorage.getItem("propertyHubUser");
        if (userData) {
          currentUser = JSON.parse(userData);
          updateUserUI();

          // Load user-specific data
          if (currentUser.favorites) {
            favorites = new Set(currentUser.favorites);
            updateFavoriteCount();
          }

          if (currentUser.savedSearches) {
            savedSearches = currentUser.savedSearches;
            renderSavedSearches();
          }
        }
      }

      // Update user UI
      function updateUserUI() {
        if (currentUser) {
          document.getElementById("authBtn").innerHTML =
            '<i class="fas fa-user-circle mr-2"></i>Profile';
          document.getElementById("userName").textContent = currentUser.name;
          document.getElementById("userEmail").textContent = currentUser.email;
        }
      }

      // Show page
      function showPage(pageName) {
        document.querySelectorAll(".page").forEach((page) => {
          page.classList.remove("active");
        });
        document.getElementById(pageName).classList.add("active");
        currentPage = pageName;

        // Adjust header for auth pages
        const header = document.getElementById("mainHeader");
        if (pageName === "login" || pageName === "signup") {
          header.classList.add("compact-header");
        } else {
          header.classList.remove("compact-header");
        }

        // Scroll to top
        window.scrollTo({ top: 0, behavior: "smooth" });

        // Update nav links
        document.querySelectorAll(".nav-link").forEach((link) => {
          link.classList.remove("text-indigo-600");
          link.classList.add("text-gray-700");
        });
        if (event && event.target) {
          event.target.classList.remove("text-gray-700");
          event.target.classList.add("text-indigo-600");
        }

        // Load page-specific content
        if (pageName === "buy") {
          loadBuyProperties();
        } else if (pageName === "rent") {
          loadRentProperties();
        } else if (pageName === "wishlist") {
          loadWishlist();
        } else if (pageName === "comparison") {
          loadComparison();
        }
      }

      // Go back function
      function goBack() {
        // Navigate back to the previous page or home
        if (currentPage === "home") {
          // Already on home page, do nothing
          return;
        } else {
          showPage("home");
        }
      }

      // Toggle mobile menu
      function toggleMobileMenu() {
        const menu = document.getElementById("mobileMenu");
        const overlay = document.getElementById("mobileMenuOverlay");

        menu.classList.toggle("active");
        overlay.classList.toggle("active");
      }

      // Render properties with pagination
      function renderProperties() {
        const grid = document.getElementById("propertyGrid");
        if (!grid) return;

        grid.innerHTML = "";

        filteredProperties.forEach((property, index) => {
          const card = createPropertyCard(property);
          setTimeout(() => {
            grid.appendChild(card);
            card.classList.add("fade-in");
          }, index * 100);
        });

        document.getElementById("resultCount").textContent =
          filteredProperties.length;

        // Show/hide load more button
        const loadMoreContainer = document.getElementById("loadMoreContainer");
        if (homePageOffset + propertiesPerPage >= properties.length) {
          loadMoreContainer.style.display = "none";
        } else {
          loadMoreContainer.style.display = "flex";
        }
      }

      // Create property card
      function createPropertyCard(property) {
        const card = document.createElement("div");
        card.className =
          "property-card bg-white rounded-xl shadow-lg overflow-hidden cursor-pointer";

        const isFavorite = favorites.has(property.id);
        const isComparing = comparisonList.includes(property.id);

        card.innerHTML = `
                <div class="relative overflow-hidden property-image">
                    <img src="${property.image}" alt="${
          property.title
        }" class="w-full h-56 object-cover">
                    <div class="absolute top-4 left-4 flex gap-2">
                        ${
                          property.featured
                            ? '<span class="bg-yellow-500 text-white px-3 py-1 rounded-full text-xs font-semibold shimmer">Featured</span>'
                            : ""
                        }
                        ${
                          property.new
                            ? '<span class="bg-green-500 text-white px-3 py-1 rounded-full text-xs font-semibold badge-new">New</span>'
                            : ""
                        }
                    </div>
                    <div class="absolute top-4 right-4">
                        <div class="location-badge">
                            <i class="fas fa-map-marker-alt"></i>
                            <span class="text-xs">${
                              property.location.split(",")[0]
                            }</span>
                        </div>
                    </div>
                    <button onclick="toggleFavorite(event, ${
                      property.id
                    })" class="absolute bottom-4 right-4 bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition transform hover:scale-110">
                        <i class="fas fa-heart text-xl ${
                          isFavorite
                            ? "text-red-500 heart-animation"
                            : "text-gray-400"
                        }"></i>
                    </button>
                </div>
                <div class="p-5">
                    <div class="flex justify-between items-start mb-3">
                                                <h3 class="text-lg font-semibold text-gray-900 hover:text-indigo-600 transition">${
                                                  property.title
                                                }</h3>
                        <div class="price-tag">
                            â‚¹${property.price}L
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm mb-4 flex items-center">
                        <i class="fas fa-map-marker-alt mr-2 text-indigo-500"></i>${
                          property.location
                        }
                    </p>
                    <div class="flex justify-between text-sm text-gray-600 mb-4">
                        <span class="flex items-center"><i class="fas fa-bed mr-2 text-indigo-500"></i>${
                          property.bedrooms
                        } Beds</span>
                        <span class="flex items-center"><i class="fas fa-bath mr-2 text-indigo-500"></i>${
                          property.bathrooms
                        } Baths</span>
                        <span class="flex items-center"><i class="fas fa-ruler-combined mr-2 text-indigo-500"></i>${
                          property.area
                        } sqft</span>
                    </div>
                    <div class="flex flex-wrap gap-2 mb-4">
                        ${property.amenities
                          .slice(0, 3)
                          .map(
                            (amenity) =>
                              `<span class="bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full text-xs font-medium">
                                <i class="fas fa-check-circle mr-1"></i>${amenity}
                            </span>`
                          )
                          .join("")}
                    </div>
                    <div class="flex gap-2">
                        <button onclick="showPropertyDetails(${
                          property.id
                        })" class="flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg hover:shadow-lg transition transform hover:scale-105 font-semibold">
                            <i class="fas fa-eye mr-2"></i>View Details
                        </button>
                        <button onclick="toggleComparison(event, ${
                          property.id
                        })" class="px-4 py-3 ${
          isComparing ? "bg-green-500 text-white" : "bg-gray-200 text-gray-700"
        } rounded-lg hover:shadow-lg transition transform hover:scale-105">
                            <i class="fas fa-balance-scale"></i>
                        </button>
                    </div>
                </div>
            `;

        return card;
      }

      // Load more properties
      function loadMoreProperties() {
        if (
          isLoading ||
          homePageOffset + propertiesPerPage >= properties.length
        )
          return;

        isLoading = true;
        const loadingIndicator = document.getElementById("propertyLoading");
        loadingIndicator.classList.remove("hidden");

        setTimeout(() => {
          homePageOffset += propertiesPerPage;
          const newProperties = properties.slice(
            homePageOffset,
            homePageOffset + propertiesPerPage
          );
          filteredProperties = [...filteredProperties, ...newProperties];
          renderProperties();

          loadingIndicator.classList.add("hidden");
          isLoading = false;

          if (homePageOffset + propertiesPerPage >= properties.length) {
            showNotification("All properties loaded");
          }
        }, 1000);
      }

      // Render buy properties
      function renderBuyProperties() {
        const grid = document.getElementById("buyPropertyGrid");
        if (!grid) return;

        grid.innerHTML = "";

        buyFilteredProperties.forEach((property, index) => {
          const card = createPropertyCard(property);
          setTimeout(() => {
            grid.appendChild(card);
            card.classList.add("fade-in");
          }, index * 100);
        });

        document.getElementById("buyResultCount").textContent =
          buyFilteredProperties.length;

        // Show/hide load more button
        const loadMoreContainer = document.getElementById(
          "buyLoadMoreContainer"
        );
        if (
          buyPageOffset + propertiesPerPage >=
          properties.filter((p) => p.price > 50).length
        ) {
          loadMoreContainer.style.display = "none";
        } else {
          loadMoreContainer.style.display = "flex";
        }
      }

      // Load more buy properties
      function loadMoreBuyProperties() {
        if (
          isLoading ||
          buyPageOffset + propertiesPerPage >=
            properties.filter((p) => p.price > 50).length
        )
          return;

        isLoading = true;
        const loadingIndicator = document.getElementById("buyPropertyLoading");
        loadingIndicator.classList.remove("hidden");

        setTimeout(() => {
          buyPageOffset += propertiesPerPage;
          const allBuyProperties = properties.filter((p) => p.price > 50);
          const newProperties = allBuyProperties.slice(
            buyPageOffset,
            buyPageOffset + propertiesPerPage
          );
          buyFilteredProperties = [...buyFilteredProperties, ...newProperties];
          renderBuyProperties();

          loadingIndicator.classList.add("hidden");
          isLoading = false;

          if (buyPageOffset + propertiesPerPage >= allBuyProperties.length) {
            showNotification("All buy properties loaded");
          }
        }, 1000);
      }

      // Render rent properties
      function renderRentProperties() {
        const grid = document.getElementById("rentPropertyGrid");
        if (!grid) return;

        grid.innerHTML = "";

        rentFilteredProperties.forEach((property, index) => {
          const card = createPropertyCard(property);
          setTimeout(() => {
            grid.appendChild(card);
            card.classList.add("fade-in");
          }, index * 100);
        });

        document.getElementById("rentResultCount").textContent =
          rentFilteredProperties.length;

        // Show/hide load more button
        const loadMoreContainer = document.getElementById(
          "rentLoadMoreContainer"
        );
        if (
          rentPageOffset + propertiesPerPage >=
          properties.filter((p) => p.price < 150).length
        ) {
          loadMoreContainer.style.display = "none";
        } else {
          loadMoreContainer.style.display = "flex";
        }
      }

      // Load more rent properties
      function loadMoreRentProperties() {
        if (
          isLoading ||
          rentPageOffset + propertiesPerPage >=
            properties.filter((p) => p.price < 150).length
        )
          return;

        isLoading = true;
        const loadingIndicator = document.getElementById("rentPropertyLoading");
        loadingIndicator.classList.remove("hidden");

        setTimeout(() => {
          rentPageOffset += propertiesPerPage;
          const allRentProperties = properties.filter((p) => p.price < 150);
          const newProperties = allRentProperties.slice(
            rentPageOffset,
            rentPageOffset + propertiesPerPage
          );
          rentFilteredProperties = [
            ...rentFilteredProperties,
            ...newProperties,
          ];
          renderRentProperties();

          loadingIndicator.classList.add("hidden");
          isLoading = false;

          if (rentPageOffset + propertiesPerPage >= allRentProperties.length) {
            showNotification("All rent properties loaded");
          }
        }, 1000);
      }

      // Load buy properties (initial load)
      function loadBuyProperties() {
        buyPageOffset = 0;
        const allBuyProperties = properties.filter((p) => p.price > 50);
        buyFilteredProperties = allBuyProperties.slice(0, propertiesPerPage);
        renderBuyProperties();
      }

      // Load rent properties (initial load)
      function loadRentProperties() {
        rentPageOffset = 0;
        const allRentProperties = properties.filter((p) => p.price < 150);
        rentFilteredProperties = allRentProperties.slice(0, propertiesPerPage);
        renderRentProperties();
      }

      // Toggle favorite
      function toggleFavorite(event, propertyId) {
        event.stopPropagation();
        if (!currentUser) {
          showNotification("Please sign in to add properties to wishlist");
          showPage("login");
          return;
        }

        if (favorites.has(propertyId)) {
          favorites.delete(propertyId);
          showNotification("Property removed from wishlist");
        } else {
          favorites.add(propertyId);
          showNotification("Property added to wishlist");
        }

        updateFavoriteCount();
        saveUserData();

        // Re-render current page
        if (currentPage === "home") {
          renderProperties();
        } else if (currentPage === "buy") {
          renderBuyProperties();
        } else if (currentPage === "rent") {
          renderRentProperties();
        } else if (currentPage === "wishlist") {
          loadWishlist();
        }
      }

      // Toggle comparison
      function toggleComparison(event, propertyId) {
        event.stopPropagation();

        if (comparisonList.includes(propertyId)) {
          comparisonList = comparisonList.filter((id) => id !== propertyId);
          showNotification("Property removed from comparison");
        } else {
          if (comparisonList.length >= 3) {
            showNotification("You can compare up to 3 properties at a time");
            return;
          }
          comparisonList.push(propertyId);
          showNotification("Property added to comparison");

          if (comparisonList.length === 3) {
            showComparisonModal();
          }
        }

        // Re-render current page
        if (currentPage === "home") {
          renderProperties();
        } else if (currentPage === "buy") {
          renderBuyProperties();
        } else if (currentPage === "rent") {
          renderRentProperties();
        }
      }

      // Show comparison modal
      function showComparisonModal() {
        const modal = document.getElementById("comparisonModal");
        const content = document.getElementById("comparisonContent");

        content.innerHTML = "";

        comparisonList.forEach((id) => {
          const property = properties.find((p) => p.id === id);
          if (property) {
            const card = document.createElement("div");
            card.className =
              "comparison-item bg-white rounded-lg shadow-md p-4";
            card.innerHTML = `
                        <img src="${property.image}" alt="${property.title}" class="w-full h-40 object-cover rounded-lg mb-4">
                        <h3 class="font-semibold mb-2">${property.title}</h3>
                        <p class="text-gray-600 text-sm mb-2">${property.location}</p>
                        <p class="text-lg font-bold text-indigo-600 mb-2">â‚¹${property.price}L</p>
                        <div class="space-y-1 text-sm">
                            <p><i class="fas fa-bed mr-2"></i>${property.bedrooms} Bedrooms</p>
                            <p><i class="fas fa-bath mr-2"></i>${property.bathrooms} Bathrooms</p>
                            <p><i class="fas fa-ruler-combined mr-2"></i>${property.area} sqft</p>
                        </div>
                    `;
            content.appendChild(card);
          }
        });

        modal.classList.remove("hidden");
        document.body.style.overflow = "hidden";
      }

      // Close comparison modal
      function closeComparisonModal() {
        document.getElementById("comparisonModal").classList.add("hidden");
        document.body.style.overflow = "auto";
      }

      // Update favorite count
      function updateFavoriteCount() {
        document.getElementById("favCount").textContent = favorites.size;
      }

      // Show property details modal
      function showPropertyDetails(propertyId) {
        const property = properties.find((p) => p.id === propertyId);
        if (!property) return;

        const modal = document.getElementById("propertyModal");
        const modalContent = document.getElementById("modalContent");

        const isFavorite = favorites.has(property.id);
        const isComparing = comparisonList.includes(property.id);

        modalContent.innerHTML = `
                <div class="relative">
                    <img src="${property.image}" alt="${
          property.title
        }" class="w-full h-96 object-cover">
                    <button onclick="closePropertyModal()" class="absolute top-4 right-4 bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition transform hover:scale-110">
                        <i class="fas fa-times text-gray-600"></i>
                    </button>
                    <button onclick="toggleFavorite(event, ${
                      property.id
                    })" class="absolute top-4 right-20 bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition transform hover:scale-110">
                        <i class="fas fa-heart text-2xl ${
                          isFavorite
                            ? "text-red-500 heart-animation"
                            : "text-gray-400"
                        }"></i>
                    </button>
                </div>
                <div class="p-6">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h2 class="text-2xl font-bold text-gray-900 mb-2">${
                              property.title
                            }</h2>
                            <p class="text-gray-600 flex items-center">
                                <i class="fas fa-map-marker-alt mr-2 text-indigo-500"></i>${
                                  property.location
                                }
                            </p>
                        </div>
                        <div class="text-right">
                            <div class="price-tag text-2xl">
                                â‚¹${property.price}L
                            </div>
                            <p class="text-gray-600 mt-1">â‚¹${Math.round(
                              (property.price * 100000) / property.area
                            ).toLocaleString()}/sqft</p>
                        </div>
                    </div>
                    
                    <!-- Tabs -->
                    <div class="flex border-b mb-6">
                        <button onclick="showTab('overview')" class="property-detail-tab px-4 py-2 font-medium active">Overview</button>
                        <button onclick="showTab('amenities')" class="property-detail-tab px-4 py-2 font-medium">Amenities</button>
                        <button onclick="showTab('location')" class="property-detail-tab px-4 py-2 font-medium">Location</button>
                        <button onclick="showTab('calculator')" class="property-detail-tab px-4 py-2 font-medium">EMI Calculator</button>
                    </div>
                    
                    <!-- Tab Content -->
                    <div id="tab-overview" class="tab-content active">
                        <div class="grid grid-cols-3 gap-4 mb-6">
                            <div class="bg-gradient-to-br from-indigo-50 to-purple-50 rounded-lg p-4 text-center transform hover:scale-105 transition">
                                <i class="fas fa-bed text-3xl text-indigo-600 mb-2"></i>
                                <p class="font-semibold">${
                                  property.bedrooms
                                } Bedrooms</p>
                            </div>
                            <div class="bg-gradient-to-br from-indigo-50 to-purple-50 rounded-lg p-4 text-center transform hover:scale-105 transition">
                                <i class="fas fa-bath text-3xl text-indigo-600 mb-2"></i>
                                <p class="font-semibold">${
                                  property.bathrooms
                                } Bathrooms</p>
                            </div>
                            <div class="bg-gradient-to-br from-indigo-50 to-purple-50 rounded-lg p-4 text-center transform hover:scale-105 transition">
                                <i class="fas fa-ruler-combined text-3xl text-indigo-600 mb-2"></i>
                                <p class="font-semibold">${
                                  property.area
                                } sqft</p>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <h3 class="text-lg font-semibold mb-2">Description</h3>
                            <p class="text-gray-600">${property.description}</p>
                        </div>
                    </div>
                    
                    <div id="tab-amenities" class="tab-content">
                        <h3 class="text-lg font-semibold mb-4">Amenities</h3>
                        <div class="grid grid-cols-2 gap-4">
                            ${property.amenities
                              .map(
                                (amenity) =>
                                  `<div class="flex items-center p-3 bg-gray-50 rounded-lg">
                                    <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                    <span>${amenity}</span>
                                </div>`
                              )
                              .join("")}
                        </div>
                    </div>
                    
                    <div id="tab-location" class="tab-content">
                        <h3 class="text-lg font-semibold mb-4">Location</h3>
                        <div id="propertyMap" class="map-container mb-4"></div>
                        <p class="text-gray-600">${property.location}</p>
                    </div>
                    
                    <div id="tab-calculator" class="tab-content">
                        <h3 class="text-lg font-semibold mb-4">EMI Calculator</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Property Price (â‚¹)</label>
                                <input type="number" id="calcPriceModal" class="calculator-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" value="${
                                  property.price * 100000
                                }">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Down Payment (%)</label>
                                <input type="number" id="calcDownPaymentModal" class="calculator-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" value="20">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Interest Rate (%)</label>
                                <input type="number" id="calcInterestModal" class="calculator-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" value="8.5">
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">Loan Term (Years)</label>
                                <input type="number" id="calcTermModal" class="calculator-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" value="20">
                            </div>
                            <button onclick="calculateMortgageModal()" class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg hover:shadow-lg transition transform hover:scale-105 font-semibold">
                                Calculate EMI
                            </button>
                            <div id="calcResultModal" class="hidden mt-6 p-4 bg-indigo-50 rounded-lg">
                                <h3 class="text-lg font-semibold mb-2">Monthly EMI: <span id="monthlyEMIModal" class="text-indigo-600"></span></h3>
                                <p class="text-gray-600">Total Interest: <span id="totalInterestModal"></span></p>
                                <p class="text-gray-600">Total Payment: <span id="totalPaymentModal"></span></p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex gap-4 mt-6">
                        <button onclick="scheduleTour(${
                          property.id
                        })" class="flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg hover:shadow-xl transition transform hover:scale-105 font-semibold">
                            <i class="fas fa-calendar mr-2"></i>Schedule Tour
                        </button>
                        <button onclick="contactAgent(${
                          property.id
                        })" class="flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg hover:bg-gray-300 transition transform hover:scale-105 font-semibold">
                            <i class="fas fa-phone mr-2"></i>Contact Agent
                        </button>
                        <button onclick="toggleComparison(event, ${
                          property.id
                        })" class="px-6 py-3 ${
          isComparing ? "bg-green-500 text-white" : "bg-gray-200 text-gray-800"
        } rounded-lg hover:shadow-lg transition transform hover:scale-105 font-semibold">
                            <i class="fas fa-balance-scale mr-2"></i>Compare
                        </button>
                    </div>
                </div>
            `;

        modal.classList.remove("hidden");
        document.body.style.overflow = "hidden";

        // Initialize map for this property
        setTimeout(() => {
          initializePropertyMap(property.coordinates);
        }, 100);
      }

      // Initialize property map
      function initializePropertyMap(coordinates) {
        const mapContainer = document.getElementById("propertyMap");
        if (!mapContainer) return;

        // Create a simple map placeholder
        mapContainer.innerHTML = `
                <div class="h-full bg-gray-200 flex items-center justify-center">
                    <div class="text-center">
                        <i class="fas fa-map-marked-alt text-4xl text-gray-400 mb-2"></i>
                        <p class="text-gray-600">Interactive Map</p>
                        <p class="text-sm text-gray-500">Location: ${coordinates[0]}, ${coordinates[1]}</p>
                    </div>
                </div>
            `;
      }

      // Show tab content
      function showTab(tabName) {
        // Hide all tabs
        document.querySelectorAll(".tab-content").forEach((tab) => {
          tab.classList.remove("active");
        });

        // Remove active class from all tab buttons
        document.querySelectorAll(".property-detail-tab").forEach((btn) => {
          btn.classList.remove("active");
        });

        // Show selected tab
        document.getElementById(`tab-${tabName}`).classList.add("active");

        // Add active class to clicked button
        event.target.classList.add("active");
      }

      // Calculate mortgage in modal
      function calculateMortgageModal() {
        const price = parseFloat(
          document.getElementById("calcPriceModal").value
        );
        const downPayment = parseFloat(
          document.getElementById("calcDownPaymentModal").value
        );
        const interest = parseFloat(
          document.getElementById("calcInterestModal").value
        );
        const term = parseFloat(document.getElementById("calcTermModal").value);

        const loanAmount = price - (price * downPayment) / 100;
        const monthlyInterest = interest / 12 / 100;
        const numPayments = term * 12;

        const emi =
          (loanAmount *
            monthlyInterest *
            Math.pow(1 + monthlyInterest, numPayments)) /
          (Math.pow(1 + monthlyInterest, numPayments) - 1);
        const totalPayment = emi * numPayments;
        const totalInterest = totalPayment - loanAmount;

        document.getElementById("monthlyEMIModal").textContent =
          "â‚¹" + emi.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        document.getElementById("totalInterestModal").textContent =
          "â‚¹" + totalInterest.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        document.getElementById("totalPaymentModal").textContent =
          "â‚¹" + totalPayment.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");

        document.getElementById("calcResultModal").classList.remove("hidden");
      }

      // Close property modal
      function closePropertyModal() {
        document.getElementById("propertyModal").classList.add("hidden");
        document.body.style.overflow = "auto";
      }

      // Schedule tour
      function scheduleTour(propertyId) {
        if (!currentUser) {
          showNotification("Please sign in to schedule a tour");
          showPage("login");
          return;
        }
        showNotification(
          "Tour scheduled successfully! Agent will contact you soon."
        );
        closePropertyModal();
      }

      // Contact agent
      function contactAgent(propertyId) {
        showNotification("Agent contact details sent to your email");
        closePropertyModal();
      }

      // Search functionality for home page
      function performSearch() {
        const searchTerm = document
          .getElementById("searchInput")
          .value.toLowerCase();

        if (searchTerm) {
          const allProperties = properties.filter(
            (property) =>
              property.title.toLowerCase().includes(searchTerm) ||
              property.location.toLowerCase().includes(searchTerm) ||
              property.type.toLowerCase().includes(searchTerm) ||
              property.description.toLowerCase().includes(searchTerm)
          );

          homePageOffset = 0;
          filteredProperties = allProperties.slice(0, propertiesPerPage);
          renderProperties();
        } else {
          homePageOffset = 0;
          filteredProperties = properties.slice(0, propertiesPerPage);
          renderProperties();
        }
      }

      // Handle search input for home page
      function handleSearchInput(event) {
        const searchTerm = event.target.value.toLowerCase();
        const suggestionsContainer =
          document.getElementById("searchSuggestions");

        if (searchTerm.length > 2) {
          const suggestions = properties
            .filter(
              (property) =>
                property.title.toLowerCase().includes(searchTerm) ||
                property.location.toLowerCase().includes(searchTerm) ||
                property.type.toLowerCase().includes(searchTerm)
            )
            .slice(0, 5);

          if (suggestions.length > 0) {
            suggestionsContainer.innerHTML = suggestions
              .map(
                (property) => `
                        <div class="search-suggestion px-4 py-2 hover:bg-gray-100 cursor-pointer" onclick="selectSuggestion('${property.title}')">
                            <div class="font-medium">${property.title}</div>
                            <div class="text-sm text-gray-500">${property.location}</div>
                        </div>
                    `
              )
              .join("");
            suggestionsContainer.classList.remove("hidden");
          } else {
            suggestionsContainer.innerHTML =
              '<div class="px-4 py-2 text-gray-500">No results found</div>';
            suggestionsContainer.classList.remove("hidden");
          }
        } else {
          suggestionsContainer.classList.add("hidden");
        }

        if (event.key === "Enter") {
          performSearch();
          suggestionsContainer.classList.add("hidden");
        }
      }

      // Search functionality for buy page
      function performBuySearch() {
        const searchTerm = document
          .getElementById("buySearchInput")
          .value.toLowerCase();

        if (searchTerm) {
          const allBuyProperties = properties.filter(
            (property) =>
              property.price > 50 &&
              (property.title.toLowerCase().includes(searchTerm) ||
                property.location.toLowerCase().includes(searchTerm) ||
                property.type.toLowerCase().includes(searchTerm) ||
                property.description.toLowerCase().includes(searchTerm))
          );

          buyPageOffset = 0;
          buyFilteredProperties = allBuyProperties.slice(0, propertiesPerPage);
          renderBuyProperties();
        } else {
          loadBuyProperties();
        }
      }

      // Handle search input for buy page
      function handleBuySearchInput(event) {
        const searchTerm = event.target.value.toLowerCase();
        const suggestionsContainer = document.getElementById(
          "buySearchSuggestions"
        );

        if (searchTerm.length > 2) {
          const suggestions = properties
            .filter(
              (property) =>
                property.price > 50 &&
                (property.title.toLowerCase().includes(searchTerm) ||
                  property.location.toLowerCase().includes(searchTerm) ||
                  property.type.toLowerCase().includes(searchTerm))
            )
            .slice(0, 5);

          if (suggestions.length > 0) {
            suggestionsContainer.innerHTML = suggestions
              .map(
                (property) => `
                        <div class="search-suggestion px-4 py-2 hover:bg-gray-100 cursor-pointer" onclick="selectBuySuggestion('${property.title}')">
                            <div class="font-medium">${property.title}</div>
                            <div class="text-sm text-gray-500">${property.location}</div>
                        </div>
                    `
              )
              .join("");
            suggestionsContainer.classList.remove("hidden");
          } else {
            suggestionsContainer.innerHTML =
              '<div class="px-4 py-2 text-gray-500">No results found</div>';
            suggestionsContainer.classList.remove("hidden");
          }
        } else {
          suggestionsContainer.classList.add("hidden");
        }

        if (event.key === "Enter") {
          performBuySearch();
          suggestionsContainer.classList.add("hidden");
        }
      }

      // Select buy search suggestion
      function selectBuySuggestion(title) {
        document.getElementById("buySearchInput").value = title;
        document.getElementById("buySearchSuggestions").classList.add("hidden");
        performBuySearch();
      }

      // Search functionality for rent page
      function performRentSearch() {
        const searchTerm = document
          .getElementById("rentSearchInput")
          .value.toLowerCase();

        if (searchTerm) {
          const allRentProperties = properties.filter(
            (property) =>
              property.price < 150 &&
              (property.title.toLowerCase().includes(searchTerm) ||
                property.location.toLowerCase().includes(searchTerm) ||
                property.type.toLowerCase().includes(searchTerm) ||
                property.description.toLowerCase().includes(searchTerm))
          );

          rentPageOffset = 0;
          rentFilteredProperties = allRentProperties.slice(
            0,
            propertiesPerPage
          );
          renderRentProperties();
        } else {
          loadRentProperties();
        }
      }

      // Handle search input for rent page
      function handleRentSearchInput(event) {
        const searchTerm = event.target.value.toLowerCase();
        const suggestionsContainer = document.getElementById(
          "rentSearchSuggestions"
        );

        if (searchTerm.length > 2) {
          const suggestions = properties
            .filter(
              (property) =>
                property.price < 150 &&
                (property.title.toLowerCase().includes(searchTerm) ||
                  property.location.toLowerCase().includes(searchTerm) ||
                  property.type.toLowerCase().includes(searchTerm))
            )
            .slice(0, 5);

          if (suggestions.length > 0) {
            suggestionsContainer.innerHTML = suggestions
              .map(
                (property) => `
                        <div class="search-suggestion px-4 py-2 hover:bg-gray-100 cursor-pointer" onclick="selectRentSuggestion('${property.title}')">
                            <div class="font-medium">${property.title}</div>
                            <div class="text-sm text-gray-500">${property.location}</div>
                        </div>
                    `
              )
              .join("");
            suggestionsContainer.classList.remove("hidden");
          } else {
            suggestionsContainer.innerHTML =
              '<div class="px-4 py-2 text-gray-500">No results found</div>';
            suggestionsContainer.classList.remove("hidden");
          }
        } else {
          suggestionsContainer.classList.add("hidden");
        }

        if (event.key === "Enter") {
          performRentSearch();
          suggestionsContainer.classList.add("hidden");
        }
      }

      // Select rent search suggestion
      function selectRentSuggestion(title) {
        document.getElementById("rentSearchInput").value = title;
        document
          .getElementById("rentSearchSuggestions")
          .classList.add("hidden");
        performRentSearch();
      }

      // Select search suggestion
      function selectSuggestion(title) {
        document.getElementById("searchInput").value = title;
        document.getElementById("searchSuggestions").classList.add("hidden");
        performSearch();
      }

      // Filter by type
      function filterByType(type) {
        const allProperties = properties.filter(
          (property) => property.type === type
        );
        homePageOffset = 0;
        filteredProperties = allProperties.slice(0, propertiesPerPage);
        renderProperties();
        showNotification(`Showing ${type} properties`);
      }

      // Toggle filter sidebar
      function toggleFilterSidebar() {
        const sidebar = document.getElementById("filterSidebar");
        const overlay = document.getElementById("filterOverlay");

        sidebar.classList.toggle("active");
        overlay.classList.toggle("active");
      }

      // Update price range display
      function updatePriceRange() {
        const minPrice = document.getElementById("minPrice").value;
        const maxPrice = document.getElementById("maxPrice").value;

        document.getElementById("minPriceValue").textContent = minPrice;
        document.getElementById("maxPriceValue").textContent = maxPrice;
      }

      // Toggle bedroom filter
      function toggleBedroom(button, value) {
        document.querySelectorAll(".bedroom-btn").forEach((btn) => {
          btn.classList.remove("bg-indigo-600", "text-white");
          btn.classList.add("border-gray-300");
        });
        button.classList.add("bg-indigo-600", "text-white");
        button.classList.remove("border-gray-300");
        selectedBedrooms = value;
      }

      // Apply filters
      function applyFilters() {
        const selectedTypes = Array.from(
          document.querySelectorAll(".filter-checkbox:checked")
        ).map((cb) => cb.value);
        const minPrice = parseInt(document.getElementById("minPrice").value);
        const maxPrice = parseInt(document.getElementById("maxPrice").value);
        const selectedAmenities = Array.from(
          document.querySelectorAll(".amenity-checkbox:checked")
        ).map((cb) => cb.value);

        let allProperties = properties;

        // Apply page-specific filters
        if (currentPage === "buy") {
          allProperties = allProperties.filter((p) => p.price > 50);
        } else if (currentPage === "rent") {
          allProperties = allProperties.filter((p) => p.price < 150);
        }

        const filtered = allProperties.filter((property) => {
          // Type filter
          if (
            selectedTypes.length > 0 &&
            !selectedTypes.includes(property.type)
          ) {
            return false;
          }

          // Price filter
          if (property.price < minPrice || property.price > maxPrice) {
            return false;
          }

          // Bedroom filter
          if (
            selectedBedrooms !== "any" &&
            property.bedrooms < parseInt(selectedBedrooms)
          ) {
            return false;
          }

          // Amenities filter
          if (selectedAmenities.length > 0) {
            const hasAllAmenities = selectedAmenities.every((amenity) =>
              property.amenities.includes(amenity)
            );
            if (!hasAllAmenities) {
              return false;
            }
          }

          return true;
        });

        // Apply filtered results to current page
        if (currentPage === "home") {
          homePageOffset = 0;
          filteredProperties = filtered.slice(0, propertiesPerPage);
          renderProperties();
        } else if (currentPage === "buy") {
          buyPageOffset = 0;
          buyFilteredProperties = filtered.slice(0, propertiesPerPage);
          renderBuyProperties();
        } else if (currentPage === "rent") {
          rentPageOffset = 0;
          rentFilteredProperties = filtered.slice(0, propertiesPerPage);
          renderRentProperties();
        }

        toggleFilterSidebar();
        showNotification("Filters applied successfully");
      }

      // Reset filters
      function resetFilters() {
        document
          .querySelectorAll(".filter-checkbox")
          .forEach((cb) => (cb.checked = false));
        document.getElementById("minPrice").value = 0;
        document.getElementById("maxPrice").value = 500;
        updatePriceRange();
        document.querySelectorAll(".bedroom-btn").forEach((btn) => {
          btn.classList.remove("bg-indigo-600", "text-white");
          btn.classList.add("border-gray-300");
        });
        document
          .querySelectorAll(".amenity-checkbox")
          .forEach((cb) => (cb.checked = false));
        selectedBedrooms = "any";

        // Reset to default for current page
        if (currentPage === "home") {
          homePageOffset = 0;
          filteredProperties = properties.slice(0, propertiesPerPage);
          renderProperties();
        } else if (currentPage === "buy") {
          loadBuyProperties();
        } else if (currentPage === "rent") {
          loadRentProperties();
        }

        toggleFilterSidebar();
        showNotification("Filters reset successfully");
      }

      // Sort properties
      function sortProperties() {
        const sortBy = document.getElementById("sortSelect").value;

        switch (sortBy) {
          case "price-low":
            filteredProperties.sort((a, b) => a.price - b.price);
            break;
          case "price-high":
            filteredProperties.sort((a, b) => b.price - a.price);
            break;
          case "newest":
            filteredProperties.sort((a, b) => b.new - a.new);
            break;
          case "bedrooms":
            filteredProperties.sort((a, b) => b.bedrooms - a.bedrooms);
            break;
          case "featured":
          default:
            filteredProperties.sort((a, b) => b.featured - a.featured);
        }

        renderProperties();
      }

      // Sort buy properties
      function sortBuyProperties() {
        const sortBy = document.getElementById("buySortSelect").value;

        switch (sortBy) {
          case "price-low":
            buyFilteredProperties.sort((a, b) => a.price - b.price);
            break;
          case "price-high":
            buyFilteredProperties.sort((a, b) => b.price - a.price);
            break;
          case "newest":
            buyFilteredProperties.sort((a, b) => b.new - a.new);
            break;
          case "bedrooms":
            buyFilteredProperties.sort((a, b) => b.bedrooms - a.bedrooms);
            break;
          case "featured":
          default:
            buyFilteredProperties.sort((a, b) => b.featured - a.featured);
        }

        renderBuyProperties();
      }

      // Sort rent properties
      function sortRentProperties() {
        const sortBy = document.getElementById("rentSortSelect").value;

        switch (sortBy) {
          case "price-low":
            rentFilteredProperties.sort((a, b) => a.price - b.price);
            break;
          case "price-high":
            rentFilteredProperties.sort((a, b) => b.price - a.price);
            break;
          case "newest":
            rentFilteredProperties.sort((a, b) => b.new - a.new);
            break;
          case "bedrooms":
            rentFilteredProperties.sort((a, b) => b.bedrooms - a.bedrooms);
            break;
          case "featured":
          default:
            rentFilteredProperties.sort((a, b) => b.featured - a.featured);
        }

        renderRentProperties();
      }

      // Set view mode
      function setViewMode(mode) {
        viewMode = mode;
        const grid = document.getElementById("propertyGrid");
        const gridBtn = document.getElementById("gridViewBtn");
        const listBtn = document.getElementById("listViewBtn");

        if (mode === "grid") {
          grid.className =
            "property-grid grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6";
          gridBtn.className = "px-3 py-2 bg-indigo-600 text-white rounded-l-lg";
          listBtn.className =
            "px-3 py-2 bg-white text-gray-600 hover:bg-gray-50 rounded-r-lg";
        } else {
          grid.className = "space-y-4";
          gridBtn.className =
            "px-3 py-2 bg-white text-gray-600 hover:bg-gray-50 rounded-l-lg";
          listBtn.className = "px-3 py-2 bg-indigo-600 text-white rounded-r-lg";
        }

        renderProperties();
      }

      // Set buy view mode
      function setBuyViewMode(mode) {
        buyViewMode = mode;
        const grid = document.getElementById("buyPropertyGrid");
        const gridBtn = document.getElementById("buyGridViewBtn");
        const listBtn = document.getElementById("buyListViewBtn");

        if (mode === "grid") {
          grid.className =
            "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6";
          gridBtn.className = "px-3 py-2 bg-indigo-600 text-white rounded-l-lg";
          listBtn.className =
            "px-3 py-2 bg-white text-gray-600 hover:bg-gray-50 rounded-r-lg";
        } else {
          grid.className = "space-y-4";
          gridBtn.className =
            "px-3 py-2 bg-white text-gray-600 hover:bg-gray-50 rounded-l-lg";
          listBtn.className = "px-3 py-2 bg-indigo-600 text-white rounded-r-lg";
        }

        renderBuyProperties();
      }

      // Set rent view mode
      function setRentViewMode(mode) {
        rentViewMode = mode;
        const grid = document.getElementById("rentPropertyGrid");
        const gridBtn = document.getElementById("rentGridViewBtn");
        const listBtn = document.getElementById("rentListViewBtn");

        if (mode === "grid") {
          grid.className =
            "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6";
          gridBtn.className = "px-3 py-2 bg-indigo-600 text-white rounded-l-lg";
          listBtn.className =
            "px-3 py-2 bg-white text-gray-600 hover:bg-gray-50 rounded-r-lg";
        } else {
          grid.className = "space-y-4";
          gridBtn.className =
            "px-3 py-2 bg-white text-gray-600 hover:bg-gray-50 rounded-l-lg";
          listBtn.className = "px-3 py-2 bg-indigo-600 text-white rounded-r-lg";
        }

        renderRentProperties();
      }

      // Toggle theme
      function toggleTheme() {
        isDarkMode = !isDarkMode;
        document.body.classList.toggle("dark");
        const icon = document.getElementById("themeIcon");
        icon.className = isDarkMode
          ? "fas fa-sun text-2xl"
          : "fas fa-moon text-2xl";
        localStorage.setItem("darkMode", isDarkMode);
      }

      // Handle login
      function handleLogin(event) {
        event.preventDefault();

        // Clear previous error messages
        document.getElementById("loginEmailError").textContent = "";
        document.getElementById("loginPasswordError").textContent = "";
        document.getElementById("loginSuccess").textContent = "";

        const email = document.getElementById("loginEmail").value;
        const password = document.getElementById("loginPassword").value;

        // Basic validation
        let isValid = true;

        if (!email) {
          document.getElementById("loginEmailError").textContent =
            "Please enter your email";
          isValid = false;
        } else if (!validateEmail(email)) {
          document.getElementById("loginEmailError").textContent =
            "Please enter a valid email";
          isValid = false;
        }

        if (!password) {
          document.getElementById("loginPasswordError").textContent =
            "Please enter your password";
          isValid = false;
        } else if (password.length < 6) {
          document.getElementById("loginPasswordError").textContent =
            "Password must be at least 6 characters";
          isValid = false;
        }

        if (!isValid) return;

        // Disable button during processing
        const loginButton = document.getElementById("loginButton");
        loginButton.disabled = true;
        loginButton.textContent = "Signing In...";

        // Simulate API call
        setTimeout(() => {
          // Create user object
          currentUser = {
            name:
              email.split("@")[0].charAt(0).toUpperCase() +
              email.split("@")[0].slice(1),
            email: email,
            favorites: Array.from(favorites),
            savedSearches: savedSearches,
          };

          // Save to localStorage
          localStorage.setItem("propertyHubUser", JSON.stringify(currentUser));

          // Update UI
          updateUserUI();

          // Re-enable button
          loginButton.disabled = false;
          loginButton.textContent = "Sign In";

          // Show success message
          document.getElementById("loginSuccess").textContent =
            "Login successful! Redirecting...";

          // Redirect to home page after a short delay
          setTimeout(() => {
            showPage("home");
            showNotification("Welcome back, " + currentUser.name + "!");
          }, 1500);
        }, 1000);
      }

      // Handle signup
      function handleSignup(event) {
        event.preventDefault();

        // Clear previous error messages
        document.getElementById("signupNameError").textContent = "";
        document.getElementById("signupEmailError").textContent = "";
        document.getElementById("signupPhoneError").textContent = "";
        document.getElementById("signupPasswordError").textContent = "";
        document.getElementById("signupConfirmPasswordError").textContent = "";
        document.getElementById("signupSuccess").textContent = "";

        const name = document.getElementById("signupName").value;
        const email = document.getElementById("signupEmail").value;
        const phone = document.getElementById("signupPhone").value;
        const password = document.getElementById("signupPassword").value;
        const confirmPassword = document.getElementById(
          "signupConfirmPassword"
        ).value;

        // Basic validation
        let isValid = true;

        if (!name) {
          document.getElementById("signupNameError").textContent =
            "Please enter your name";
          isValid = false;
        }

        if (!email) {
          document.getElementById("signupEmailError").textContent =
            "Please enter your email";
          isValid = false;
        } else if (!validateEmail(email)) {
          document.getElementById("signupEmailError").textContent =
            "Please enter a valid email";
          isValid = false;
        }

        if (!phone) {
          document.getElementById("signupPhoneError").textContent =
            "Please enter your phone number";
          isValid = false;
        } else if (!validatePhone(phone)) {
          document.getElementById("signupPhoneError").textContent =
            "Please enter a valid phone number";
          isValid = false;
        }

        if (!password) {
          document.getElementById("signupPasswordError").textContent =
            "Please enter a password";
          isValid = false;
        } else if (password.length < 6) {
          document.getElementById("signupPasswordError").textContent =
            "Password must be at least 6 characters";
          isValid = false;
        }

        if (!confirmPassword) {
          document.getElementById("signupConfirmPasswordError").textContent =
            "Please confirm your password";
          isValid = false;
        } else if (password !== confirmPassword) {
          document.getElementById("signupConfirmPasswordError").textContent =
            "Passwords do not match";
          isValid = false;
        }

        if (!isValid) return;

        // Disable button during processing
        const signupButton = document.getElementById("signupButton");
        signupButton.disabled = true;
        signupButton.textContent = "Creating Account...";

        // Simulate API call
        setTimeout(() => {
          // Create user object
          currentUser = {
            name: name,
            email: email,
            phone: phone,
            favorites: [],
            savedSearches: [],
          };

          // Save to localStorage
          localStorage.setItem("propertyHubUser", JSON.stringify(currentUser));

          // Update UI
          updateUserUI();

          // Re-enable button
          signupButton.disabled = false;
          signupButton.textContent = "Create Account";

          // Show success message
          document.getElementById("signupSuccess").textContent =
            "Account created successfully! Redirecting...";

          // Redirect to home page after a short delay
          setTimeout(() => {
            showPage("home");
            showNotification(
              "Welcome to PropertyHub, " + currentUser.name + "!"
            );
          }, 1500);
        }, 1000);
      }

      // Validate email
      function validateEmail(email) {
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(email);
      }

      // Validate phone
      function validatePhone(phone) {
        const re = /^[0-9]{10}$/;
        return re.test(phone.replace(/\D/g, ""));
      }

      // Social login
      function socialLogin(provider) {
        showNotification(`Signing in with ${provider}...`);

        // Simulate social login
        setTimeout(() => {
          // Create user object
          currentUser = {
            name: `${
              provider.charAt(0).toUpperCase() + provider.slice(1)
            } User`,
            email: `user@${provider}.com`,
            favorites: [],
            savedSearches: [],
          };

          // Save to localStorage
          localStorage.setItem("propertyHubUser", JSON.stringify(currentUser));

          // Update UI
          updateUserUI();

          // Redirect to home page
          showPage("home");
          showNotification(`Welcome back, ${currentUser.name}!`);
        }, 1000);
      }

      // Handle sign out
      function handleSignOut() {
        currentUser = null;
        localStorage.removeItem("propertyHubUser");
        document.getElementById("authBtn").innerHTML =
          '<i class="fas fa-sign-in-alt mr-2"></i>Sign In';
        document.getElementById("userName").textContent = "Guest User";
        document.getElementById("userEmail").textContent =
          "Please sign in to continue";
        showNotification("Signed out successfully!");
        showPage("home");
      }

      // Save user data
      function saveUserData() {
        if (currentUser) {
          const userData = {
            ...currentUser,
            favorites: Array.from(favorites),
            savedSearches: savedSearches,
          };
          localStorage.setItem("propertyHubUser", JSON.stringify(userData));
        }
      }

      // Show notification
      function showNotification(message) {
        // Clear any existing timeout
        if (notificationTimeout) {
          clearTimeout(notificationTimeout);
        }

        const notification = document.getElementById("notification");
        const notificationText = document.getElementById("notificationText");

        // Set message and ensure proper wrapping
        notificationText.textContent = message;
        notificationText.style.wordWrap = "break-word";
        notificationText.style.maxWidth = "250px";

        // Show notification
        notification.classList.add("show");

        // Set timeout to hide notification after 3 seconds
        notificationTimeout = setTimeout(() => {
          notification.classList.remove("show");
        }, 3000);
      }

      // Handle property submission
      function handlePropertySubmission(event) {
        event.preventDefault();
        if (!currentUser) {
          showNotification("Please sign in to submit a property");
          showPage("login");
          return;
        }
        showNotification(
          "Property submitted successfully! Our team will review and list it soon."
        );
        event.target.reset();
      }

      // Handle contact form
      function handleContactForm(event) {
        event.preventDefault();
        showNotification(
          "Your message has been sent! We will get back to you soon."
        );
        event.target.reset();
      }

      // Apply for job
      function applyForJob(jobTitle) {
        if (!currentUser) {
          showNotification("Please sign in to apply for this position");
          showPage("login");
          return;
        }
        showNotification(`Application for ${jobTitle} submitted successfully!`);
      }

      // Load wishlist
      function loadWishlist() {
        const wishlistGrid = document.getElementById("wishlistGrid");
        const emptyWishlist = document.getElementById("emptyWishlist");

        if (favorites.size === 0) {
          wishlistGrid.style.display = "none";
          emptyWishlist.style.display = "block";
        } else {
          wishlistGrid.style.display = "grid";
          emptyWishlist.style.display = "none";

          wishlistGrid.innerHTML = "";
          const wishlistProperties = properties.filter((p) =>
            favorites.has(p.id)
          );

          wishlistProperties.forEach((property) => {
            const card = createPropertyCard(property);
            wishlistGrid.appendChild(card);
          });
        }
      }

      // Load comparison
      function loadComparison() {
        const comparisonContent = document.getElementById("comparisonContent");
        const emptyComparison = document.getElementById("emptyComparison");

        if (comparisonList.length === 0) {
          comparisonContent.style.display = "none";
          emptyComparison.style.display = "block";
        } else {
          comparisonContent.style.display = "grid";
          emptyComparison.style.display = "none";

          comparisonContent.innerHTML = "";

          comparisonList.forEach((id) => {
            const property = properties.find((p) => p.id === id);
            if (property) {
              const card = document.createElement("div");
              card.className =
                "comparison-item bg-white rounded-lg shadow-md p-4";
              card.innerHTML = `
                            <img src="${property.image}" alt="${property.title}" class="w-full h-40 object-cover rounded-lg mb-4">
                            <h3 class="font-semibold mb-2">${property.title}</h3>
                            <p class="text-gray-600 text-sm mb-2">${property.location}</p>
                            <p class="text-lg font-bold text-indigo-600 mb-2">â‚¹${property.price}L</p>
                            <div class="space-y-1 text-sm">
                                <p><i class="fas fa-bed mr-2"></i>${property.bedrooms} Bedrooms</p>
                                <p><i class="fas fa-bath mr-2"></i>${property.bathrooms} Bathrooms</p>
                                <p><i class="fas fa-ruler-combined mr-2"></i>${property.area} sqft</p>
                            </div>
                            <div class="mt-4">
                                <button onclick="removeFromComparison(${property.id})" class="w-full bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition">
                                    Remove
                                </button>
                            </div>
                        `;
              comparisonContent.appendChild(card);
            }
          });
        }
      }

      // Remove from comparison
      function removeFromComparison(propertyId) {
        comparisonList = comparisonList.filter((id) => id !== propertyId);
        loadComparison();
        showNotification("Property removed from comparison");
      }

      // Render agents
      function renderAgents() {
        const container = document.querySelector("#agents .grid");
        if (!container) return;

        container.innerHTML = "";

        agents.forEach((agent) => {
          const card = document.createElement("div");
          card.className =
            "agent-card bg-white rounded-lg shadow-lg overflow-hidden";
          card.innerHTML = `
                    <img src="${agent.image}" alt="${
            agent.name
          }" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2">${
                          agent.name
                        }</h3>
                        <p class="text-gray-600 mb-2">${agent.specialty}</p>
                        <div class="flex items-center mb-2">
                            <div class="text-yellow-500 mr-2">
                                ${Array(5)
                                  .fill()
                                  .map(
                                    (_, i) =>
                                      `<i class="fas fa-star ${
                                        i < Math.floor(agent.rating)
                                          ? ""
                                          : "text-gray-300"
                                      }"></i>`
                                  )
                                  .join("")}
                            </div>
                            <span class="text-sm text-gray-600">${
                              agent.rating
                            } (${agent.properties} properties)</span>
                        </div>
                        <p class="text-sm text-gray-500 mb-4">${
                          agent.experience
                        } experience</p>
                        <div class="space-y-2 mb-4">
                            <p class="text-sm text-gray-600"><i class="fas fa-phone mr-2"></i>${
                              agent.phone
                            }</p>
                            <p class="text-sm text-gray-600"><i class="fas fa-envelope mr-2"></i>${
                              agent.email
                            }</p>
                        </div>
                        <button onclick="contactAgentProfile(${
                          agent.id
                        })" class="w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition">
                            Contact Agent
                        </button>
                    </div>
                `;
          container.appendChild(card);
        });
      }

      // Contact agent profile
      function contactAgentProfile(agentId) {
        const agent = agents.find((a) => a.id === agentId);
        if (agent) {
          showNotification(
            `Contact details for ${agent.name} sent to your email`
          );
        }
      }

      // Save current search
      function saveCurrentSearch() {
        if (!currentUser) {
          showNotification("Please sign in to save searches");
          showPage("login");
          return;
        }

        let searchTerm = "";
        if (currentPage === "home") {
          searchTerm = document.getElementById("searchInput").value;
        } else if (currentPage === "buy") {
          searchTerm = document.getElementById("buySearchInput").value;
        } else if (currentPage === "rent") {
          searchTerm = document.getElementById("rentSearchInput").value;
        }

        if (searchTerm) {
          const search = {
            id: Date.now(),
            term: searchTerm,
            timestamp: new Date().toLocaleDateString(),
            count:
              currentPage === "home"
                ? filteredProperties.length
                : currentPage === "buy"
                ? buyFilteredProperties.length
                : rentFilteredProperties.length,
          };

          savedSearches.push(search);
          saveUserData();
          renderSavedSearches();
          showNotification("Search saved successfully");
        } else {
          showNotification("Please enter a search term to save");
        }
      }

      // Render saved searches
      function renderSavedSearches() {
        const container = document.getElementById("savedSearches");
        if (!container) return;

        if (savedSearches.length === 0) {
          container.innerHTML =
            '<p class="text-gray-500">No saved searches yet</p>';
        } else {
          container.innerHTML = savedSearches
            .map(
              (search) => `
                    <div class="saved-search flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                        <div>
                            <p class="font-medium">${search.term}</p>
                            <p class="text-sm text-gray-500">${search.timestamp} - ${search.count} results</p>
                        </div>
                        <button onclick="loadSavedSearch('${search.term}')" class="text-indigo-600 hover:text-indigo-800">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                `
            )
            .join("");
        }
      }

      // Load saved search
      function loadSavedSearch(term) {
        if (currentPage === "home") {
          document.getElementById("searchInput").value = term;
          performSearch();
        } else if (currentPage === "buy") {
          document.getElementById("buySearchInput").value = term;
          performBuySearch();
        } else if (currentPage === "rent") {
          document.getElementById("rentSearchInput").value = term;
          performRentSearch();
        }
        showPage("home");
      }

      // Calculate mortgage
      function calculateMortgage() {
        const price = parseFloat(document.getElementById("calcPrice").value);
        const downPayment = parseFloat(
          document.getElementById("calcDownPayment").value
        );
        const interest = parseFloat(
          document.getElementById("calcInterest").value
        );
        const term = parseFloat(document.getElementById("calcTerm").value);

        if (!price || !downPayment || !interest || !term) {
          showNotification("Please fill all fields");
          return;
        }

        const loanAmount = price - (price * downPayment) / 100;
        const monthlyInterest = interest / 12 / 100;
        const numPayments = term * 12;

        const emi =
          (loanAmount *
            monthlyInterest *
            Math.pow(1 + monthlyInterest, numPayments)) /
          (Math.pow(1 + monthlyInterest, numPayments) - 1);
        const totalPayment = emi * numPayments;
        const totalInterest = totalPayment - loanAmount;

        document.getElementById("monthlyEMI").textContent =
          "â‚¹" + emi.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        document.getElementById("totalInterest").textContent =
          "â‚¹" + totalInterest.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        document.getElementById("totalPayment").textContent =
          "â‚¹" + totalPayment.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");

        document.getElementById("calcResult").classList.remove("hidden");
      }

      // Close calculator modal
      function closeCalculatorModal() {
        document.getElementById("calculatorModal").classList.add("hidden");
        document.body.style.overflow = "auto";
      }

      // Initialize demo user on first load
      window.addEventListener("load", () => {
        // Check if it's first visit
        if (!localStorage.getItem("propertyHubVisited")) {
          localStorage.setItem("propertyHubVisited", "true");

          // Auto-login with demo user
          currentUser = {
            name: "Demo User",
            email: "demo@propertyhub.in",
            favorites: [],
            savedSearches: [],
          };

          localStorage.setItem("propertyHubUser", JSON.stringify(currentUser));
          updateUserUI();
          showNotification(
            "Welcome to PropertyHub India! You are logged in as Demo User."
          );
        }
      });

      // Handle Enter key in search
      document
        .getElementById("searchInput")
        .addEventListener("keypress", (e) => {
          if (e.key === "Enter") {
            performSearch();
          }
        });

      document
        .getElementById("buySearchInput")
        .addEventListener("keypress", (e) => {
          if (e.key === "Enter") {
            performBuySearch();
          }
        });

      document
        .getElementById("rentSearchInput")
        .addEventListener("keypress", (e) => {
          if (e.key === "Enter") {
            performRentSearch();
          }
        });

      // Close modal on Escape key
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          closePropertyModal();
          closeComparisonModal();
          closeCalculatorModal();
          if (
            document
              .getElementById("filterSidebar")
              .classList.contains("active")
          ) {
            toggleFilterSidebar();
          }
        }
      });

      // Load dark mode preference
      if (localStorage.getItem("darkMode") === "true") {
        toggleTheme();
      }

      // Add smooth scroll behavior
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });

      // Add page visibility change handler
      document.addEventListener("visibilitychange", () => {
        if (!document.hidden && currentUser) {
          // Refresh user data when page becomes visible
          loadUserData();
        }
      });

      // Add online/offline detection
      window.addEventListener("online", () => {
        showNotification("You are back online!");
      });

      window.addEventListener("offline", () => {
        showNotification("You are offline. Some features may not work.");
      });

      // Add resize handler for responsive adjustments
      let resizeTimer;
      window.addEventListener("resize", () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(() => {
          // Adjust layout based on screen size
          if (window.innerWidth < 768) {
            // Mobile adjustments
            if (viewMode === "grid") {
              setViewMode("grid");
            }
          }
        }, 250);
      });

      // Add error handling for images
      document.addEventListener(
        "error",
        (e) => {
          if (e.target.tagName === "IMG") {
            e.target.src = "https://picsum.photos/seed/fallback/400/300";
          }
        },
        true
      );

      // Performance monitoring
      window.addEventListener("load", () => {
        const loadTime = performance.now();
        console.log(`Page loaded in ${loadTime.toFixed(2)}ms`);
      });

      // Initialize tooltips
      document.querySelectorAll("[title]").forEach((element) => {
        element.addEventListener("mouseenter", (e) => {
          const tooltip = document.createElement("div");
          tooltip.className =
            "absolute bg-gray-800 text-white text-xs rounded px-2 py-1 z-50";
          tooltip.textContent = e.target.getAttribute("title");
          tooltip.style.top = `${e.target.offsetTop - 30}px`;
          tooltip.style.left = `${e.target.offsetLeft}px`;
          document.body.appendChild(tooltip);

          e.target.addEventListener(
            "mouseleave",
            () => {
              tooltip.remove();
            },
            { once: true }
          );
        });
      });

      // Add keyboard shortcuts
      document.addEventListener("keydown", (e) => {
        // Ctrl/Cmd + K for search
        if ((e.ctrlKey || e.metaKey) && e.key === "k") {
          e.preventDefault();
          if (currentPage === "home") {
            document.getElementById("searchInput").focus();
          } else if (currentPage === "buy") {
            document.getElementById("buySearchInput").focus();
          } else if (currentPage === "rent") {
            document.getElementById("rentSearchInput").focus();
          }
        }

        // Ctrl/Cmd + / for shortcuts help
        if ((e.ctrlKey || e.metaKey) && e.key === "/") {
          e.preventDefault();
          showNotification(
            "Shortcuts: Ctrl+K (Search), Ctrl+/ (Help), Esc (Close modals)"
          );
        }
      });

      // Initialize lazy loading for images
      if ("IntersectionObserver" in window) {
        const imageObserver = new IntersectionObserver((entries, observer) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              const img = entry.target;
              img.src = img.dataset.src || img.src;
              img.classList.add("fade-in");
              observer.unobserve(img);
            }
          });
        });

        document.querySelectorAll("img").forEach((img) => {
          imageObserver.observe(img);
        });
      }

      // Add print styles handler
      window.addEventListener("beforeprint", () => {
        document.body.classList.add("print-mode");
      });

      window.addEventListener("afterprint", () => {
        document.body.classList.remove("print-mode");
      });

      // Initialize service worker for PWA (if available)
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("/sw.js").catch(() => {
          // Service worker registration failed
        });
      }

      // Add analytics tracking (placeholder)
      function trackEvent(eventName, properties) {
        console.log("Event tracked:", eventName, properties);
        // In production, this would send to analytics service
      }

      // Track page views
      function trackPageView(pageName) {
        trackEvent("page_view", { page: pageName });
      }

      // Track user interactions
      document.addEventListener("click", (e) => {
        if (e.target.closest("[data-track]")) {
          const trackData = e.target.closest("[data-track]").dataset.track;
          trackEvent("click", { element: trackData });
        }
      });

      // Initialize app
      console.log("PropertyHub India initialized successfully");

      // Utility functions for better performance
      function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }

      function throttle(func, limit) {
        let inThrottle;
        return function () {
          const args = arguments;
          const context = this;
          if (!inThrottle) {
            func.apply(context, args);
            inThrottle = true;
            setTimeout(() => (inThrottle = false), limit);
          }
        };
      }

      // Optimized scroll handlers
      const optimizedScrollHandler = throttle(() => {
        // Handle scroll events
        const scrollTop =
          window.pageYOffset || document.documentElement.scrollTop;

        // Show/hide back to top button
        const backToTopButton = document.getElementById("backToTop");
        if (backToTopButton) {
          if (scrollTop > 300) {
            backToTopButton.style.display = "block";
          } else {
            backToTopButton.style.display = "none";
          }
        }

        // Parallax effects for hero sections
        const heroSections = document.querySelectorAll(".hero-gradient");
        heroSections.forEach((section) => {
          const rect = section.getBoundingClientRect();
          if (rect.bottom >= 0 && rect.top <= window.innerHeight) {
            const speed = 0.5;
            const yPos = -(scrollTop * speed);
            section.style.transform = `translateY(${yPos}px)`;
          }
        });
      }, 16);

      // Add scroll event listener
      window.addEventListener("scroll", optimizedScrollHandler);

      // Create back to top button
      function createBackToTopButton() {
        const button = document.createElement("button");
        button.id = "backToTop";
        button.className =
          "fixed bottom-20 right-20 bg-indigo-600 text-white p-3 rounded-full shadow-lg hover:bg-indigo-700 transition-all duration-300 z-40 hidden";
        button.innerHTML = '<i class="fas fa-arrow-up"></i>';
        button.onclick = () => {
          window.scrollTo({ top: 0, behavior: "smooth" });
        };
        document.body.appendChild(button);
      }

      // Initialize back to top button
      createBackToTopButton();

      // Enhanced search with debouncing
      const debouncedSearch = debounce((searchTerm, pageType) => {
        if (pageType === "home") {
          performSearch();
        } else if (pageType === "buy") {
          performBuySearch();
        } else if (pageType === "rent") {
          performRentSearch();
        }
      }, 300);

      // Enhanced search input handlers
      function handleEnhancedSearchInput(event, pageType) {
        const searchTerm = event.target.value.toLowerCase();
        const suggestionsContainerId =
          pageType === "home"
            ? "searchSuggestions"
            : pageType === "buy"
            ? "buySearchSuggestions"
            : "rentSearchSuggestions";
        const suggestionsContainer = document.getElementById(
          suggestionsContainerId
        );

        if (searchTerm.length > 2) {
          let filteredProperties = properties;

          if (pageType === "buy") {
            filteredProperties = filteredProperties.filter((p) => p.price > 50);
          } else if (pageType === "rent") {
            filteredProperties = filteredProperties.filter(
              (p) => p.price < 150
            );
          }

          const suggestions = filteredProperties
            .filter(
              (property) =>
                property.title.toLowerCase().includes(searchTerm) ||
                property.location.toLowerCase().includes(searchTerm) ||
                property.type.toLowerCase().includes(searchTerm)
            )
            .slice(0, 5);

          if (suggestions.length > 0) {
            suggestionsContainer.innerHTML = suggestions
              .map(
                (property) => `
                        <div class="search-suggestion px-4 py-2 hover:bg-gray-100 cursor-pointer" onclick="select${
                          pageType.charAt(0).toUpperCase() + pageType.slice(1)
                        }Suggestion('${property.title}')">
                            <div class="font-medium">${property.title}</div>
                            <div class="text-sm text-gray-500">${
                              property.location
                            }</div>
                        </div>
                    `
              )
              .join("");
            suggestionsContainer.classList.remove("hidden");
          } else {
            suggestionsContainer.innerHTML =
              '<div class="px-4 py-2 text-gray-500">No results found</div>';
            suggestionsContainer.classList.remove("hidden");
          }
        } else {
          suggestionsContainer.classList.add("hidden");
        }

        if (event.key === "Enter") {
          debouncedSearch(searchTerm, pageType);
          suggestionsContainer.classList.add("hidden");
        } else {
          debouncedSearch(searchTerm, pageType);
        }
      }

      // Update search input handlers to use enhanced version
      document.getElementById("searchInput").onkeyup = (e) =>
        handleEnhancedSearchInput(e, "home");
      document.getElementById("buySearchInput").onkeyup = (e) =>
        handleEnhancedSearchInput(e, "buy");
      document.getElementById("rentSearchInput").onkeyup = (e) =>
        handleEnhancedSearchInput(e, "rent");

      // Advanced filtering system
      function applyAdvancedFilters(filters) {
        let allProperties = properties;

        // Apply page-specific base filters
        if (currentPage === "buy") {
          allProperties = allProperties.filter((p) => p.price > 50);
        } else if (currentPage === "rent") {
          allProperties = allProperties.filter((p) => p.price < 150);
        }

        const filtered = allProperties.filter((property) => {
          // Type filter
          if (filters.types && filters.types.length > 0) {
            if (!filters.types.includes(property.type)) return false;
          }

          // Price filter
          if (filters.minPrice && property.price < filters.minPrice)
            return false;
          if (filters.maxPrice && property.price > filters.maxPrice)
            return false;

          // Bedroom filter
          if (filters.bedrooms && filters.bedrooms !== "any") {
            if (property.bedrooms < parseInt(filters.bedrooms)) return false;
          }

          // Bathroom filter
          if (filters.bathrooms && filters.bathrooms !== "any") {
            if (property.bathrooms < parseInt(filters.bathrooms)) return false;
          }

          // Area filter
          if (filters.minArea && property.area < filters.minArea) return false;
          if (filters.maxArea && property.area > filters.maxArea) return false;

          // Amenities filter
          if (filters.amenities && filters.amenities.length > 0) {
            const hasAllAmenities = filters.amenities.every((amenity) =>
              property.amenities.includes(amenity)
            );
            if (!hasAllAmenities) return false;
          }

          // Featured filter
          if (filters.featured && !property.featured) return false;

          // New filter
          if (filters.new && !property.new) return false;

          return true;
        });

        // Apply filtered results to current page
        if (currentPage === "home") {
          homePageOffset = 0;
          filteredProperties = filtered.slice(0, propertiesPerPage);
          renderProperties();
        } else if (currentPage === "buy") {
          buyPageOffset = 0;
          buyFilteredProperties = filtered.slice(0, propertiesPerPage);
          renderBuyProperties();
        } else if (currentPage === "rent") {
          rentPageOffset = 0;
          rentFilteredProperties = filtered.slice(0, propertiesPerPage);
          renderRentProperties();
        }

        return filtered.length;
      }

      // Enhanced property comparison
      function enhanceComparison() {
        if (comparisonList.length < 2) {
          showNotification("Please select at least 2 properties to compare");
          return;
        }

        const comparisonData = comparisonList.map((id) => {
          const property = properties.find((p) => p.id === id);
          return {
            ...property,
            pricePerSqft: Math.round((property.price * 100000) / property.area),
            amenitiesCount: property.amenities.length,
            score: calculatePropertyScore(property),
          };
        });

        // Sort by score (highest first)
        comparisonData.sort((a, b) => b.score - a.score);

        // Show enhanced comparison modal
        showEnhancedComparisonModal(comparisonData);
      }

      // Calculate property score
      function calculatePropertyScore(property) {
        let score = 0;

        // Price factor (lower is better)
        const maxPrice = Math.max(...properties.map((p) => p.price));
        score += (1 - property.price / maxPrice) * 30;

        // Area factor (higher is better)
        const maxArea = Math.max(...properties.map((p) => p.area));
        score += (property.area / maxArea) * 20;

        // Bedroom factor
        const maxBedrooms = Math.max(...properties.map((p) => p.bedrooms));
        score += (property.bedrooms / maxBedrooms) * 15;

        // Bathroom factor
        const maxBathrooms = Math.max(...properties.map((p) => p.bathrooms));
        score += (property.bathrooms / maxBathrooms) * 10;

        // Amenities factor
        const maxAmenities = Math.max(
          ...properties.map((p) => p.amenities.length)
        );
        score += (property.amenities.length / maxAmenities) * 15;

        // Featured bonus
        if (property.featured) score += 5;

        // New bonus
        if (property.new) score += 5;

        return Math.round(score);
      }

      // Show enhanced comparison modal
      function showEnhancedComparisonModal(comparisonData) {
        const modal = document.getElementById("comparisonModal");
        const content = document.getElementById("comparisonContent");

        content.innerHTML = `
                <div class="mb-6">
                    <h3 class="text-xl font-bold mb-4">Property Comparison Analysis</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        ${comparisonData
                          .map(
                            (property, index) => `
                            <div class="text-center p-4 bg-gray-50 rounded-lg">
                                <h4 class="font-semibold">${property.title}</h4>
                                <div class="text-2xl font-bold text-indigo-600 mt-2">
                                    Score: ${property.score}/100
                                </div>
                                ${
                                  index === 0
                                    ? '<span class="bg-green-500 text-white px-2 py-1 rounded text-sm">Best Match</span>'
                                    : ""
                                }
                            </div>
                        `
                          )
                          .join("")}
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    ${comparisonData
                      .map(
                        (property) => `
                        <div class="comparison-item bg-white rounded-lg shadow-md p-4">
                            <img src="${property.image}" alt="${property.title}" class="w-full h-40 object-cover rounded-lg mb-4">
                            <h3 class="font-semibold mb-2">${property.title}</h3>
                            <p class="text-gray-600 text-sm mb-2">${property.location}</p>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span>Price:</span>
                                    <span class="font-semibold">â‚¹${property.price}L</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Price/sqft:</span>
                                    <span>â‚¹${property.pricePerSqft}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Bedrooms:</span>
                                    <span>${property.bedrooms}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Bathrooms:</span>
                                    <span>${property.bathrooms}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Area:</span>
                                    <span>${property.area} sqft</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Amenities:</span>
                                    <span>${property.amenitiesCount}</span>
                                </div>
                            </div>
                            <div class="mt-4">
                                <div class="bg-gray-200 rounded-full h-2">
                                    <div class="bg-indigo-600 h-2 rounded-full" style="width: ${property.score}%"></div>
                                </div>
                                <p class="text-xs text-gray-500 mt-1">Match Score</p>
                            </div>
                        </div>
                    `
                      )
                      .join("")}
                </div>
            `;

        modal.classList.remove("hidden");
        document.body.style.overflow = "hidden";
      }

      // Enhanced property recommendations
      function getRecommendations(propertyId) {
        const currentProperty = properties.find((p) => p.id === propertyId);
        if (!currentProperty) return [];

        // Calculate similarity scores
        const recommendations = properties
          .filter((p) => p.id !== propertyId)
          .map((property) => ({
            ...property,
            similarity: calculateSimilarity(currentProperty, property),
          }))
          .sort((a, b) => b.similarity - a.similarity)
          .slice(0, 4);

        return recommendations;
      }

      // Calculate property similarity
      function calculateSimilarity(property1, property2) {
        let similarity = 0;

        // Type similarity
        if (property1.type === property2.type) similarity += 30;

        // Price similarity
        const priceDiff = Math.abs(property1.price - property2.price);
        const maxPrice = Math.max(property1.price, property2.price);
        similarity += (1 - priceDiff / maxPrice) * 25;

        // Area similarity
        const areaDiff = Math.abs(property1.area - property2.area);
        const maxArea = Math.max(property1.area, property2.area);
        similarity += (1 - areaDiff / maxArea) * 20;

        // Bedroom similarity
        if (property1.bedrooms === property2.bedrooms) similarity += 15;

        // Bathroom similarity
        if (property1.bathrooms === property2.bathrooms) similarity += 10;

        return similarity;
      }

      // Show property recommendations
      function showRecommendations(propertyId) {
        const recommendations = getRecommendations(propertyId);
        if (recommendations.length === 0) {
          showNotification("No recommendations available");
          return;
        }

        const modal = document.createElement("div");
        modal.className = "fixed inset-0 z-50";
        modal.innerHTML = `
                <div class="modal-backdrop absolute inset-0" onclick="this.parentElement.remove()"></div>
                <div class="relative flex items-center justify-center min-h-screen p-4">
                    <div class="bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
                        <div class="p-6">
                            <div class="flex justify-between items-center mb-6">
                                <h2 class="text-2xl font-bold">Recommended Properties</h2>
                                <button onclick="this.closest('.fixed').remove()" class="text-gray-500 hover:text-gray-700">
                                    <i class="fas fa-times text-xl"></i>
                                </button>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                ${recommendations
                                  .map((property) =>
                                    createPropertyCard(property)
                                  )
                                  .join("")}
                            </div>
                        </div>
                    </div>
                </div>
            `;

        document.body.appendChild(modal);
        document.body.style.overflow = "hidden";
      }

      // Property watchlist alerts
      function setupWatchlistAlerts() {
        if (!currentUser) return;

        // Check for new properties matching user preferences every hour
        setInterval(() => {
          const userPreferences = getUserPreferences();
          if (userPreferences && userPreferences.alerts) {
            checkForNewProperties(userPreferences);
          }
        }, 3600000); // 1 hour
      }

      // Get user preferences
      function getUserPreferences() {
        if (!currentUser) return null;

        return {
          maxPrice: currentUser.maxPrice || 500,
          minBedrooms: currentUser.minBedrooms || 1,
          preferredTypes: currentUser.preferredTypes || [],
          preferredLocations: currentUser.preferredLocations || [],
          alerts: currentUser.alerts || false,
        };
      }

      // Check for new properties
      function checkForNewProperties(preferences) {
        const newProperties = properties.filter((p) => {
          if (p.price > preferences.maxPrice) return false;
          if (p.bedrooms < preferences.minBedrooms) return false;
          if (
            preferences.preferredTypes.length > 0 &&
            !preferences.preferredTypes.includes(p.type)
          )
            return false;
          if (
            preferences.preferredLocations.length > 0 &&
            !preferences.preferredLocations.some((loc) =>
              p.location.includes(loc)
            )
          )
            return false;
          return p.new;
        });

        if (newProperties.length > 0) {
          showNotification(
            `${newProperties.length} new properties match your preferences!`
          );
        }
      }

      // Virtual tour functionality
      function startVirtualTour(propertyId) {
        const property = properties.find((p) => p.id === propertyId);
        if (!property) return;

        showNotification(`Starting virtual tour for ${property.title}...`);

        // In a real application, this would open a virtual tour viewer
        setTimeout(() => {
          showNotification("Virtual tour loaded successfully");
        }, 2000);
      }

      // Mortgage calculator with advanced options
      function calculateAdvancedMortgage() {
        const price = parseFloat(document.getElementById("calcPrice").value);
        const downPayment = parseFloat(
          document.getElementById("calcDownPayment").value
        );
        const interest = parseFloat(
          document.getElementById("calcInterest").value
        );
        const term = parseFloat(document.getElementById("calcTerm").value);
        const processingFee =
          parseFloat(document.getElementById("calcProcessingFee").value) || 0;
        const insurance =
          parseFloat(document.getElementById("calcInsurance").value) || 0;

        if (!price || !downPayment || !interest || !term) {
          showNotification("Please fill all required fields");
          return;
        }

        const loanAmount = price - (price * downPayment) / 100;
        const monthlyInterest = interest / 12 / 100;
        const numPayments = term * 12;

        const emi =
          (loanAmount *
            monthlyInterest *
            Math.pow(1 + monthlyInterest, numPayments)) /
          (Math.pow(1 + monthlyInterest, numPayments) - 1);
        const totalPayment = emi * numPayments;
        const totalInterest = totalPayment - loanAmount;
        const totalCost = totalPayment + processingFee + insurance * term;

        // Display detailed results
        document.getElementById("monthlyEMI").textContent =
          "â‚¹" + emi.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        document.getElementById("totalInterest").textContent =
          "â‚¹" + totalInterest.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        document.getElementById("totalPayment").textContent =
          "â‚¹" + totalPayment.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        document.getElementById("totalCost").textContent =
          "â‚¹" + totalCost.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");

        // Show additional details
        const detailsDiv = document.getElementById("calcDetails");
        if (detailsDiv) {
          detailsDiv.innerHTML = `
                    <div class="mt-4 p-4 bg-gray-50 rounded-lg">
                        <h4 class="font-semibold mb-2">Payment Breakdown</h4>
                        <div class="space-y-1 text-sm">
                            <div class="flex justify-between">
                                <span>Principal Amount:</span>
                                <span>â‚¹${loanAmount
                                  .toFixed(0)
                                  .replace(/\B(?=(\d{3})+(?!\d))/g, ",")}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Total Interest:</span>
                                <span>â‚¹${totalInterest
                                  .toFixed(0)
                                  .replace(/\B(?=(\d{3})+(?!\d))/g, ",")}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Processing Fee:</span>
                                <span>â‚¹${processingFee
                                  .toFixed(0)
                                  .replace(/\B(?=(\d{3})+(?!\d))/g, ",")}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Insurance (${term} years):</span>
                                <span>â‚¹${(insurance * term)
                                  .toFixed(0)
                                  .replace(/\B(?=(\d{3})+(?!\d))/g, ",")}</span>
                            </div>
                            <div class="flex justify-between font-semibold pt-2 border-t">
                                <span>Total Cost:</span>
                                <span>â‚¹${totalCost
                                  .toFixed(0)
                                  .replace(/\B(?=(\d{3})+(?!\d))/g, ",")}</span>
                            </div>
                        </div>
                    </div>
                `;
        }

        document.getElementById("calcResult").classList.remove("hidden");
      }

      // Export functions for global access
      window.PropertyHub = {
        showPage,
        toggleFilterSidebar,
        showNotification,
        toggleTheme,
        calculateAdvancedMortgage,
        startVirtualTour,
        showRecommendations,
        enhanceComparison,
        applyAdvancedFilters,
      };

      // Initialize advanced features
      document.addEventListener("DOMContentLoaded", () => {
        // Setup watchlist alerts
        setupWatchlistAlerts();

        // Add smooth reveal animations
        const observerOptions = {
          threshold: 0.1,
          rootMargin: "0px 0px -50px 0px",
        };

        const revealObserver = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("fade-in");
              revealObserver.unobserve(entry.target);
            }
          });
        }, observerOptions);

        // Observe all property cards
        document.querySelectorAll(".property-card").forEach((card) => {
          revealObserver.observe(card);
        });
      });

      // Performance optimization
      const preloadImages = () => {
        properties.forEach((property) => {
          const img = new Image();
          img.src = property.image;
        });
      };

      // Preload images after page load
      window.addEventListener("load", preloadImages);

      // Error boundary
      window.addEventListener("error", (e) => {
        console.error("Application error:", e.error);
        // showNotification('An error occurred. Please refresh the page.');
      });

      // Service worker registration for PWA
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("/sw.js")
            .then((registration) => {
              console.log("SW registered: ", registration);
            })
            .catch((registrationError) => {
              console.log("SW registration failed: ", registrationError);
            });
        });
      }

      // Add analytics tracking (placeholder)
      function trackEvent(eventName, properties) {
        console.log("Event tracked:", eventName, properties);
        // In production, this would send to analytics service
      }

      // Track page views
      function trackPageView(pageName) {
        trackEvent("page_view", { page: pageName });
      }

      // Track user interactions
      document.addEventListener("click", (e) => {
        if (e.target.closest("[data-track]")) {
          const trackData = e.target.closest("[data-track]").dataset.track;
          trackEvent("click", { element: trackData });
        }
      });

      // Initialize app
      console.log("PropertyHub India initialized successfully");
    </script>
  </body>
</html>
